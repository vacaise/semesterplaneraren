(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6005:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>l});var r=a(5775),s=a(4663),n=a(6052),i=a(1244),o=a(290);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","primary-action":"w-full bg-violet-500 hover:bg-violet-600 dark:bg-violet-400 dark:hover:bg-violet-500 text-white dark:text-gray-900 shadow-sm focus:ring-violet-400 dark:focus:ring-violet-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,r.jsx)(m,{className:(0,o.cn)(l({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button"},8226:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>af});var r=a(5775),s=a(4663),n=a(6851),i=a(4658),o=a(2654),l=a(290),d=a(2336);let c=(e,t)=>i.nk[e].icon[t],m=e=>{let{tooltip:t,label:a,colorScheme:s}=e;return(0,r.jsxs)(o.m_,{children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsx)("button",{"aria-label":"Show information about ".concat(a),tabIndex:0,children:(0,r.jsx)(d.A,{className:"h-3.5 w-3.5 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"})})}),(0,r.jsx)(o.Vj,{colorScheme:s,children:(0,r.jsx)("p",{className:"text-xs",children:t})})]})},u=e=>{let{icon:t,colorScheme:a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("h-10 w-10 rounded-lg flex items-center justify-center","ring-1",c(a,"bg"),c(a,"text"),c(a,"ring")),role:"img","aria-hidden":"true",children:(0,r.jsx)("div",{className:"p-0.5",children:t})})},g=e=>{let{value:t,colorScheme:a}=e;return(0,r.jsx)("div",{className:"flex items-baseline gap-2",children:(0,r.jsx)("p",{className:(0,l.cn)("text-3xl font-bold tracking-tight leading-none",c(a,"text")),children:t})})},x=e=>{let{value:t,label:a,tooltip:s,colorScheme:n,icon:o}=e;return(0,r.jsxs)("article",{className:(0,l.cn)("w-full","rounded-lg p-4","ring-1",i.nk[n].icon.ring,"transition-all duration-200","bg-white dark:bg-gray-800/60","shadow-sm"),"aria-label":"".concat(a,": ").concat(t),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)(u,{icon:o,colorScheme:n}),(0,r.jsx)(m,{tooltip:s,label:a,colorScheme:n})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("p",{className:(0,l.cn)("text-sm font-medium",c(n,"text")),children:a}),(0,r.jsx)(g,{value:t,colorScheme:n})]})]})};var h=a(7215),y=a(3254),p=a(6102),b=a(1502),f=a(2628),v=a(6255);let k={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function j(e){let{children:t,className:a,icon:s,title:i,subtitle:o,rightContent:d,noPadding:c=!1}=e;return(0,r.jsx)(n.P.div,{variants:k,className:(0,l.cn)("relative overflow-hidden rounded-xl bg-white/90 dark:bg-gray-900/90 shadow-sm",a),children:(0,r.jsxs)("div",{className:(0,l.cn)("relative",c?"":"p-4 space-y-4"),children:[i&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,r.jsx)("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-800/50 rounded-lg",children:s}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 leading-none mb-0.5",children:i}),o&&(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o})]})]}),d&&(0,r.jsx)("div",{className:"flex items-center",children:d})]}),t]})})}let w={en:{pageTitle:"Optimize Your Time Off",pageDescription:"Make the most of your paid time off in {year} with smart scheduling",optimizationForm:"Optimization Form",optimizationResults:"Optimization Results",creatingSchedule:"Creating Your Optimal Schedule",findingBestWay:"Finding the best way to use your time off in {year}...",planYourYear:"Plan Your Year",completeSteps:"Complete these simple steps to optimize your time off throughout the year.",year:"Year:",selectYear:"Select planning year",generate:"Generate",optimizingSchedule:"Optimizing your schedule...",calendarExport:"Export to Calendar",summary:"Summary",optimizationStatsSubtitle:"A breakdown of your optimized time off schedule",breakDetails:"Break Details",breakDetailsSubtitle:"Your optimized breaks throughout the year",calendarView:"Calendar View",totalDaysOff:"Total Days Off",totalDaysOffTooltip:"Total number of days off including weekends, holidays, and PTO days",ptoDays:"PTO Days",ptoDaysTooltip:"Number of PTO days used in the optimization",publicHolidays:"Public Holidays",publicHolidaysTooltip:"Number of public holidays that are part of a longer break",extendedWeekends:"Extended Weekends",extendedWeekendsTooltip:"Number of weekends that are part of a longer break",companyDaysOff:"Company Days Off",companyDaysOffTooltip:"Number of company-wide days off (e.g., Christmas closure) that part of a longer break",days:"days",breaksPlanned:'{count} break{count !== 1 ? "s" : ""} planned',understandingBreakTypes:"Understanding Your Break Types",noBreaksPlanned:"No Breaks Planned Yet",adjustPtoDays:"Adjust your PTO days and preferences to see optimized break suggestions",yourOptimizedBreaks:"Your Optimized Breaks",optimizedBreaksDescription:"Below are your optimized breaks based on your preferences and available days",exportCalendar:"Export Calendar",exportCalendarSubtitle:"Take your vacation plan with you",viewExportInfo:"View export information",exportInfo:"Export your optimized vacation plan to your preferred calendar application. Your {breaksCount} breaks use {ptoDays} PTO days for {totalDays} total days off.",calendarExportOptions:"Calendar export options",exportIcal:"iCal (.ics)",exportIcalDescription:"Export to iCal format for Google Calendar, Apple Calendar, Outlook, and other calendar applications",exportIcalTooltip:"Download as iCal file for Google Calendar, Apple Calendar, Outlook, and other calendar applications.",exportIcalTimezoneInfo:"Events will show on their actual dates regardless of timezone.",noBreaksToExport:"No breaks to export",noBreaksToExportDescription:"There are no vacation breaks to export to calendar.",exportSuccessful:"Export Successful",exportFailed:"Export Failed",exportError:"An unexpected error occurred: {error}",exportToCalendar:"Export to Calendar",downloadIcs:"Download ICS",addToGoogle:"Add to Google Calendar",addToOutlook:"Add to Outlook",loading:"Loading...",error:"Error",success:"Success"},sv:{pageTitle:"Optimera Din Semester",pageDescription:"F\xe5 ut mesta m\xf6jliga av din betalda ledighet {year} med smart schemal\xe4ggning",optimizationForm:"Optimering",optimizationResults:"Optimering Resultat",creatingSchedule:"Skapar Ditt Optimala Schema",findingBestWay:"Hittar det b\xe4sta s\xe4ttet att anv\xe4nda din ledighet {year}...",planYourYear:"Planera Ditt \xc5r",completeSteps:"Fyll i dessa enkla steg f\xf6r att optimera din ledighet under \xe5ret.",year:"\xc5r:",selectYear:"V\xe4lj planerings\xe5r",generate:"Generera",optimizingSchedule:"Optimerar ditt schema...",calendarExport:"Exportera till Kalender",summary:"Sammanfattning",optimizationStatsSubtitle:"En \xf6versikt av ditt optimerade ledighetsschema",breakDetails:"Ledighetsdetaljer",breakDetailsSubtitle:"Dina optimerade ledighetsperioder under \xe5ret",calendarView:"Kalendervy",totalDaysOff:"Total Ledighet",totalDaysOffTooltip:"Totalt antal lediga dagar inklusive helger, helgdagar och semesterdagar",ptoDays:"Semesterdagar",ptoDaysTooltip:"Antal semesterdagar som anv\xe4nds i optimeringen",publicHolidays:"Helgdagar",publicHolidaysTooltip:"Antal helgdagar som \xe4r en del av en l\xe4ngre ledighetsperiod",extendedWeekends:"F\xf6rl\xe4ngda Helger",extendedWeekendsTooltip:"Antal helger som \xe4r en del av en l\xe4ngre ledighetsperiod",companyDaysOff:"F\xf6retagsledighet",companyDaysOffTooltip:"Antal f\xf6retagslediga dagar (t.ex. julst\xe4ngt) som \xe4r en del av en l\xe4ngre ledighetsperiod",days:"dagar",breaksPlanned:'{count} ledighetsperiod{count !== 1 ? "er" : ""} planerad{count !== 1 ? "a" : ""}',understandingBreakTypes:"F\xf6rst\xe5 Dina Ledighetsperioder",noBreaksPlanned:"Inga Ledighetsperioder Planerade \xc4n",adjustPtoDays:"Justera dina semesterdagar och preferenser f\xf6r att se optimerade ledighetsf\xf6rslag",yourOptimizedBreaks:"Dina Optimerade Ledighetsperioder",optimizedBreaksDescription:"H\xe4r \xe4r dina optimerade ledighetsperioder baserade p\xe5 dina preferenser och tillg\xe4ngliga dagar",exportCalendar:"Exportera Kalender",exportCalendarSubtitle:"Ta med dig din semesterplan",viewExportInfo:"Visa exportinformation",exportInfo:"Exportera din optimerade semesterplan till din f\xf6redragna kalenderapplikation. Dina {breaksCount} ledighetsperioder anv\xe4nder {ptoDays} semesterdagar f\xf6r totalt {totalDays} lediga dagar.",calendarExportOptions:"Kalenderexportalternativ",exportIcal:"iCal (.ics)",exportIcalDescription:"Exportera till iCal-format f\xf6r Google Kalender, Apple Kalender, Outlook och andra kalenderapplikationer",exportIcalTooltip:"Ladda ner som iCal-fil f\xf6r Google Kalender, Apple Kalender, Outlook och andra kalenderapplikationer.",exportIcalTimezoneInfo:"H\xe4ndelser visas p\xe5 sina faktiska datum oavsett tidszon.",noBreaksToExport:"Inga ledighetsperioder att exportera",noBreaksToExportDescription:"Det finns inga semesterperioder att exportera till kalendern.",exportSuccessful:"Export Lyckades",exportFailed:"Export Misslyckades",exportError:"Ett ov\xe4ntat fel uppstod: {error}",exportToCalendar:"Exportera till Kalender",downloadIcs:"Ladda ner ICS",addToGoogle:"L\xe4gg till i Google Kalender",addToOutlook:"L\xe4gg till i Outlook",loading:"Laddar...",error:"Fel",success:"Lyckades"}};function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sv";return w[t][e]||w.en[e]}function D(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sv",r=N(e,a);return Object.entries(t).forEach(e=>{let[t,a]=e;r=r.replace("{".concat(t,"}"),a)}),r}let O=e=>{let{stats:t}=e;return(0,r.jsx)(j,{title:N("summary"),subtitle:N("optimizationStatsSubtitle"),icon:(0,r.jsx)(h.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:[(0,r.jsx)(x,{icon:(0,r.jsx)(y.A,{className:"h-5 w-5"}),value:t.totalDaysOff,label:N("totalDaysOff"),tooltip:N("totalDaysOffTooltip"),colorScheme:"blue"}),(0,r.jsx)(x,{icon:(0,r.jsx)(p.A,{className:"h-5 w-5"}),value:t.totalPTODays,label:N("ptoDays"),tooltip:N("ptoDaysTooltip"),colorScheme:"green"}),(0,r.jsx)(x,{icon:(0,r.jsx)(b.A,{className:"h-5 w-5"}),value:t.totalPublicHolidays,label:N("publicHolidays"),tooltip:N("publicHolidaysTooltip"),colorScheme:"amber"}),(0,r.jsx)(x,{icon:(0,r.jsx)(f.A,{className:"h-5 w-5"}),value:t.totalExtendedWeekends,label:N("extendedWeekends"),tooltip:N("extendedWeekendsTooltip"),colorScheme:"teal"}),(0,r.jsx)(x,{icon:(0,r.jsx)(v.A,{className:"h-5 w-5"}),value:t.totalCompanyDaysOff,label:N("companyDaysOff"),tooltip:N("companyDaysOffTooltip"),colorScheme:"violet"})]})})};var E=a(7257),C=a(1752),S=a(6208),T=a(4067),P=a(838);let A=e=>e>=i.c2.EXTENDED.MIN?"Extended Break":e>=i.c2.WEEK_LONG.MIN?"Week Break":e>=i.c2.MINI_BREAK.MIN?"Mini Break":"Long Weekend",M=e=>e>=i.c2.EXTENDED.MIN?"bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":e>=i.c2.WEEK_LONG.MIN?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":e>=i.c2.MINI_BREAK.MIN?"bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300":"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-300",I=e=>e.isPTO?"pto":e.isPublicHoliday?"publicHoliday":e.isCompanyDayOff?"companyDayOff":e.isWeekend?"weekend":"default",_=e=>e.isPTO?"PTO Day":e.isPublicHoliday?e.publicHolidayName||"Holiday":e.isCompanyDayOff?e.companyDayName||"Company Day Off":e.isWeekend?"Weekend":"Work Day",z=e=>{let{count:t,icon:a,label:s}=e;return(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[a,(0,r.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:t})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]})},L="h-3.5 w-3.5",B=e=>{let{breakPeriod:t}=e;return(0,r.jsxs)("div",{className:"mt-3 grid grid-cols-4 gap-2",children:[t.ptoDays>0&&(0,r.jsx)(z,{count:t.ptoDays,icon:(0,r.jsx)(p.A,{className:(0,l.cn)(L,i.nk[l.cf.pto].icon.text)}),label:1===t.ptoDays?"PTO Day":"PTO Days"}),t.publicHolidays>0&&(0,r.jsx)(z,{count:t.publicHolidays,icon:(0,r.jsx)(S.A,{className:(0,l.cn)(L,i.nk[l.cf.publicHoliday].icon.text)}),label:1===t.publicHolidays?"Public Holiday":"Public Holidays"}),t.companyDaysOff>0&&(0,r.jsx)(z,{count:t.companyDaysOff,icon:(0,r.jsx)(T.A,{className:(0,l.cn)(L,i.nk[l.cf.companyDayOff].icon.text)}),label:1===t.companyDaysOff?"Company Day Off":"Company Days Off"}),t.weekends>0&&(0,r.jsx)(z,{count:t.weekends,icon:(0,r.jsx)(P.A,{className:(0,l.cn)(L,i.nk[l.cf.weekend].icon.text)}),label:1===t.weekends?"Weekend":"Weekends"})]})},Y=e=>{let{days:t}=e;return(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("div",{className:"flex space-x-0.5 items-end h-3",children:t.map(e=>{let t=I(e),a=l.cf[t],s=(0,E.GP)((0,C.qg)(e.date,"yyyy-MM-dd",new Date),"MMM d"),n=_(e);return(0,r.jsxs)(o.m_,{children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsx)("div",{className:(0,l.cn)("flex-1 rounded-sm relative group cursor-help",i.nk[a].calendar.bg,"h-2","border border-transparent hover:border-gray-200 dark:hover:border-gray-700","transition-all duration-150 hover:shadow-sm")})}),(0,r.jsx)(o.Vj,{colorScheme:a,children:(0,r.jsx)("p",{className:"text-xs",children:"".concat(s," - ").concat(n)})})]},e.date)})})})},R=e=>{let{startDate:t,endDate:a,totalDays:s}=e;return(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsxs)("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 leading-none",children:[(0,E.GP)(t,"MMM d")," - ",(0,E.GP)(a,"MMM d")]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s," day",1!==s?"s":""," off"]})]}),(0,r.jsx)("div",{className:(0,l.cn)("px-2 py-1 rounded-lg text-xs font-medium",M(s)),children:A(s)})]})},H=e=>{let{breakPeriod:t}=e,a=(0,C.qg)(t.startDate,"yyyy-MM-dd",new Date),s=(0,C.qg)(t.endDate,"yyyy-MM-dd",new Date);return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800/50 rounded-lg shadow-sm ring-1 ring-gray-900/5 dark:ring-white/10 p-4",children:[(0,r.jsx)(R,{startDate:a,endDate:s,totalDays:t.totalDays}),(0,r.jsx)(B,{breakPeriod:t}),(0,r.jsx)(Y,{days:t.days})]})};var W=a(7055),F=a(8314),G=a(6895);let K=[{name:"Long Weekend",icon:W.A,description:"".concat(i.c2.LONG_WEEKEND.MIN,"-").concat(i.c2.LONG_WEEKEND.MAX," days off around a weekend"),color:"text-green-900 dark:text-green-100",bgColor:"bg-green-100/80 dark:bg-green-900/30",iconBg:"bg-green-200 dark:bg-green-800/50",iconColor:"text-green-700 dark:text-green-300",borderColor:"border-green-200 dark:border-green-800",ariaLabel:"Long Weekend: ".concat(i.c2.LONG_WEEKEND.MIN,"-").concat(i.c2.LONG_WEEKEND.MAX," days off around a weekend")},{name:"Mini Break",icon:y.A,description:"".concat(i.c2.MINI_BREAK.MIN,"-").concat(i.c2.MINI_BREAK.MAX," days off for a quick getaway"),color:"text-orange-900 dark:text-orange-100",bgColor:"bg-orange-100/80 dark:bg-orange-900/30",iconBg:"bg-orange-200 dark:bg-orange-800/50",iconColor:"text-orange-700 dark:text-orange-300",borderColor:"border-orange-200 dark:border-orange-800",ariaLabel:"Mini Break: ".concat(i.c2.MINI_BREAK.MIN,"-").concat(i.c2.MINI_BREAK.MAX," days off for a quick getaway")},{name:"Week Break",icon:F.A,description:"".concat(i.c2.WEEK_LONG.MIN,"-").concat(i.c2.WEEK_LONG.MAX," days for a proper vacation"),color:"text-blue-900 dark:text-blue-100",bgColor:"bg-blue-100/80 dark:bg-blue-900/30",iconBg:"bg-blue-200 dark:bg-blue-800/50",iconColor:"text-blue-700 dark:text-blue-300",borderColor:"border-blue-200 dark:border-blue-800",ariaLabel:"Week Break: ".concat(i.c2.WEEK_LONG.MIN,"-").concat(i.c2.WEEK_LONG.MAX," days for a proper vacation")},{name:"Extended Break",icon:G.A,description:"".concat(i.c2.EXTENDED.MIN,"-").concat(i.c2.EXTENDED.MAX," days for an extended holiday"),color:"text-purple-900 dark:text-purple-100",bgColor:"bg-purple-100/80 dark:bg-purple-900/30",iconBg:"bg-purple-200 dark:bg-purple-800/50",iconColor:"text-purple-700 dark:text-purple-300",borderColor:"border-purple-200 dark:border-purple-800",ariaLabel:"Extended Break: ".concat(i.c2.EXTENDED.MIN,"-").concat(i.c2.EXTENDED.MAX," days for an extended holiday")}];function $(){return(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:K.map(e=>{let t=e.icon;return(0,r.jsx)("div",{className:"relative overflow-hidden rounded-lg ".concat(e.bgColor," border ").concat(e.borderColor," shadow-sm"),role:"article","aria-label":e.ariaLabel,children:(0,r.jsxs)("div",{className:"relative p-2 flex items-start space-x-2",children:[(0,r.jsx)("div",{className:"p-1.5 rounded-md ".concat(e.iconBg," flex-shrink-0"),children:(0,r.jsx)(t,{className:"h-3.5 w-3.5 ".concat(e.iconColor),"aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("h3",{className:"text-xs font-medium leading-none mb-0.5 ".concat(e.color),children:e.name}),(0,r.jsx)("p",{className:"text-xs leading-tight ".concat(e.color," opacity-90"),children:e.description})]})]})},e.name)})})}function q(e){let{breaks:t}=e;return(0,r.jsxs)(j,{title:N("breakDetails"),subtitle:N("breakDetailsSubtitle"),icon:(0,r.jsx)("svg",{className:"h-4 w-4 text-violet-600 dark:text-violet-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),rightContent:(0,r.jsxs)("span",{className:"px-3 py-1.5 bg-violet-100 dark:bg-violet-900/50 rounded-lg text-xs font-medium text-violet-700 dark:text-violet-300",children:[t.length," ",D("breaksPlanned",{count:t.length.toString()})]}),children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 text-violet-600 dark:text-violet-400"}),(0,r.jsx)("h3",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:N("understandingBreakTypes")})]}),(0,r.jsx)($,{})]}),(0,r.jsx)("div",{className:"space-y-4",children:0===t.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,r.jsx)("div",{className:"p-2 bg-violet-100 dark:bg-violet-900/50 rounded-lg mb-3",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-violet-600 dark:text-violet-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 mb-1",children:N("noBreaksPlanned")}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 max-w-md",children:N("adjustPtoDays")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 mb-1",children:N("yourOptimizedBreaks")}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:N("optimizedBreaksDescription")})]}),(0,r.jsx)("div",{className:"grid gap-3 grid-cols-1 lg:grid-cols-2 auto-rows-fr",children:t.map((e,t)=>(0,r.jsx)(H,{breakPeriod:e},t))})]})})]})}function V(e){let{dayType:t,label:a}=e,s=l.cf[t];return(0,r.jsxs)("li",{className:"flex items-center space-x-2.5 px-3 py-2 rounded-md  focus-within:ring-2 focus-within:ring-blue-200 dark:focus-within:ring-blue-800/30","aria-label":"".concat(a," calendar day type"),children:[(0,r.jsx)("div",{className:(0,l.cn)("w-5 h-5 rounded-md flex-shrink-0",i.nk[s].calendar.bg,"ring-1 ring-gray-200/80 dark:ring-gray-700/80 shadow-sm")}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a})]})}let U=e=>{switch(e){case"publicHoliday":case"companyDayOff":return"holiday";case"weekend":default:return"weekend";case"pto":return"time-off"}};function X(e){let{hasPTODays:t=!1,hasHolidays:a=!1,hasCompanyDaysOff:s=!1,hasExtendedWeekends:n=!1,hasWeekends:i=!1}=e,o=[t&&{dayType:"pto",label:"PTO Day",priority:4},a&&{dayType:"publicHoliday",label:"Public Holiday",priority:1},s&&{dayType:"companyDayOff",label:"Company Day Off",priority:2},n&&{dayType:"weekend",label:"Extended Weekend",priority:3},i&&!n&&{dayType:"weekend",label:"Normal Weekend",priority:5},i&&n&&{dayType:"weekend",label:"Normal Weekend",priority:5}].filter(e=>!!e);if(o.sort((e,t)=>e.priority-t.priority),0===o.length)return null;let c={holiday:[],weekend:[],"time-off":[]};o.forEach(e=>{c[U(e.dayType)].push(e)});let m=["holiday","weekend","time-off"].flatMap(e=>c[e]);return(0,r.jsxs)("div",{className:(0,l.cn)("mb-5 bg-white dark:bg-gray-800/50 rounded-lg overflow-hidden","ring-1 ring-gray-200 dark:ring-gray-700 shadow-sm","transition-all duration-200"),children:[(0,r.jsx)("div",{className:"px-4 py-2.5 border-b border-gray-100 dark:border-gray-700/80 bg-gray-50/80 dark:bg-gray-800/70 flex items-center justify-between",children:(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1.5",children:[(0,r.jsx)(d.A,{className:"h-3.5 w-3.5 text-gray-500 dark:text-gray-400"}),"Calendar Legend"]})}),(0,r.jsx)("div",{className:"p-3",children:(0,r.jsx)("ul",{"aria-label":"Calendar day types",className:(0,l.cn)("grid gap-1","grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5"),children:m.map((e,t)=>(0,r.jsx)(V,{dayType:e.dayType,label:e.label,priority:e.priority},"".concat(e.label,"-").concat(t)))})})]})}var J=a(9115),Z=a(970),Q=a(2286),ee=a(3913),et=a(1413),ea=a(6125),er=a(7205),es=a(4036);let en=(e,t,a,r)=>{if(a)return"today";if(r&&(0,J.R)((0,Z.o)(t))&&!a)return"past";let s="default";return e.isPTO?s="pto":e.isPublicHoliday?s="publicHoliday":e.isCompanyDayOff?s="companyDayOff":e.isWeekend&&(s="weekend"),l.cf[s]},ei=e=>{let{day:t,dayInfo:a,hasPublicHoliday:s}=e,{date:n,tooltipText:d,bgClass:c,textClass:m,isCurrentDay:u,dayType:g}=a,x=new Date().getFullYear(),h=n.getFullYear()===x,y=en(t,n,u,h);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,l.cn)("absolute inset-0.5 rounded-md",c,u&&"ring-2 ring-blue-400 dark:ring-blue-500 shadow-sm",t.isPartOfBreak&&"extendedWeekend"!==g&&!u&&"ring-1 ring-indigo-300/40 dark:ring-indigo-400/30 ring-dashed","extendedWeekend"===g&&!u&&"ring-1 ring-purple-400/70 dark:ring-purple-400/50")}),(0,r.jsxs)(o.m_,{children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsx)("div",{className:(0,l.cn)("absolute inset-0 flex items-center justify-center font-medium z-10 text-xs",m,d&&"cursor-help",t.isPartOfBreak&&"extendedWeekend"!==g&&"text-indigo-700 dark:text-indigo-300"),children:(0,E.GP)(n,"d")})}),d&&(0,r.jsx)(o.Vj,{colorScheme:y,children:t.isPartOfBreak?(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-sm bg-indigo-500/70 dark:bg-indigo-400/80"}),(0,r.jsx)("p",{className:"text-xs font-medium",children:"Break Period"})]}),"Part of Break Period"!==d&&(0,r.jsx)("p",{className:"text-xs pl-3 text-gray-600 dark:text-gray-300",children:d}),(0,r.jsx)("p",{className:"text-xs pl-3 text-gray-500 dark:text-gray-400",children:(0,E.GP)(n,"EEEE, MMMM d, yyyy")})]}):(0,r.jsx)("p",{className:"text-xs",children:d})})]}),s&&t.isPublicHoliday&&(0,r.jsx)("div",{className:(0,l.cn)("absolute bottom-1 left-1/2 -translate-x-1/2 w-0.5 h-0.5 rounded-full",i.nk[l.cf.publicHoliday].calendar.text)})]})},eo=(e,t,a)=>{let r=e?"today":t?"past":l.cf[a];return{bgClass:i.nk[r].calendar.bg,textClass:(0,l.cn)(e&&"font-bold",i.nk[r].calendar.text)}};function el(e){let{month:t,year:a,days:s}=e,n=(0,Q.w)(new Date(a,t)),o=(0,ee.p)(n),d=(0,et.k)({start:n,end:o}),c=(0,ea.P)(n),m=a===new Date().getFullYear(),u={hasPTODays:s.some(e=>e.isPTO),hasPublicHoliday:s.some(e=>e.isPublicHoliday),hasCompanyDaysOff:s.some(e=>e.isCompanyDayOff),hasExtendedWeekends:s.some(e=>e.isPartOfBreak&&e.isWeekend),hasBreaks:s.some(e=>e.isPartOfBreak),hasWeekends:s.some(e=>e.isWeekend)},g=s.filter(e=>{let a=(0,C.qg)(e.date,"yyyy-MM-dd",new Date);return e.isPublicHoliday&&(0,er.t)(a)===t}),x=Array(35).fill(null);d.forEach((e,t)=>{let a=(0,E.GP)(e,"yyyy-MM-dd"),r=s.find(e=>e.date===a);x[c+t]=r||{date:a,isWeekend:0===(0,ea.P)(e)||6===(0,ea.P)(e),isPTO:!1,isPartOfBreak:!1,isPublicHoliday:!1,isCompanyDayOff:!1}});let h=e=>{let t=(0,C.qg)(e.date,"yyyy-MM-dd",new Date),a=(0,es.c)(t),r=m&&(0,J.R)((0,Z.o)(t))&&!a,s="default",n="";r?n="Past dates are not considered in the optimization":a?n="Today":u.hasCompanyDaysOff&&e.isCompanyDayOff?(s="companyDayOff",n=e.companyDayName||"Company Day Off"):u.hasPublicHoliday&&e.isPublicHoliday?(s="publicHoliday",n=e.publicHolidayName||"Public Holiday"):u.hasExtendedWeekends&&e.isPartOfBreak&&e.isWeekend?(s="extendedWeekend",n="Extended Weekend"):u.hasPTODays&&e.isPTO?(s="pto",n="PTO Day"):e.isPartOfBreak?n="Part of Break Period":e.isWeekend&&(s="weekend",n="Normal Weekend");let{bgClass:i,textClass:o}=eo(a,r,s);return{date:t,dayType:s,tooltipText:n,bgClass:i,textClass:o,isCurrentDay:a,isPastDay:r}};return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800/50 rounded-lg shadow-sm overflow-hidden ring-1 ring-gray-200 dark:ring-gray-700",children:[(0,r.jsxs)("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-800/80 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h4",{className:"text-base font-medium text-gray-900 dark:text-gray-100 leading-none",children:(0,E.GP)(n,"MMMM yyyy")}),(0,r.jsx)("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400 min-h-[1.25rem] flex items-center gap-2",children:g.length>0&&(0,r.jsxs)(r.Fragment,{children:["Holidays: ",g.map(e=>e.publicHolidayName).join(", ")]})})]}),(0,r.jsx)("div",{className:"p-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-0.5",children:[i.w4.map(e=>(0,r.jsx)("div",{className:"text-center text-xs font-medium text-gray-600 dark:text-gray-400 py-1",children:e},e)),x.map((e,t)=>(0,r.jsx)("div",{className:(0,l.cn)("aspect-square p-1 text-xs relative",!e&&"bg-gray-50 dark:bg-gray-800/30"),children:e&&(0,r.jsx)(ei,{day:e,dayInfo:h(e),hasPublicHoliday:u.hasPublicHoliday})},t))]})})]})}var ed=a(5116);let ec=e=>{let{stats:t,optimizedDays:a,selectedYear:s}=e,n=new Date,o=(0,E.GP)(n,"MMMM d, yyyy"),l=s===n.getFullYear();return(0,r.jsxs)(j,{title:"Calendar View",subtitle:l?"From today until the end of ".concat(s):"Full year view for ".concat(s),icon:(0,r.jsx)(p.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),children:[l&&(0,r.jsxs)("div",{className:"mb-4 flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-800 dark:text-blue-200 text-sm",children:[(0,r.jsx)(ed.A,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:["Optimization begins from today (",o,")"]}),(0,r.jsx)("p",{className:"text-xs mt-1 text-blue-700 dark:text-blue-300",children:"Past dates are grayed out and not considered in the optimization. This ensures your vacation planning is practical and forward-looking."})]})]}),!l&&(0,r.jsxs)("div",{className:"mb-4 flex items-start gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-800 dark:text-green-200 text-sm",children:[(0,r.jsx)(ed.A,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:["Planning for ",s]}),(0,r.jsxs)("p",{className:"text-xs mt-1 text-green-700 dark:text-green-300",children:["You're viewing the optimization for the entire ",s," calendar year. Plan ahead by selecting the most advantageous days for your time off."]})]})]}),(0,r.jsx)(X,{hasPTODays:t.totalPTODays>0,hasHolidays:t.totalPublicHolidays>0,hasCompanyDaysOff:t.totalCompanyDaysOff>0,hasExtendedWeekends:t.totalExtendedWeekends>0,hasWeekends:!0}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-2",children:i.KR.map((e,t)=>(0,r.jsx)(el,{month:t,year:s,days:a},t))})]})};var em=a(1840),eu=a(821);let eg=e=>{let[t,a,r]=e.split("-").map(Number);return[t,a,r,0,0]},ex=e=>{let t=new Date("".concat(e,"T12:00:00Z"));return t.setUTCDate(t.getUTCDate()+1),[t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),0,0]},eh=(e,t)=>"\n    PTO Days: ".concat(e.ptoDays,"\n    Public Holidays: ").concat(e.publicHolidays,"\n    Company Days Off: ").concat(e.companyDaysOff,"\n    Weekends: ").concat(e.weekends,"\n    Total Days: ").concat(e.totalDays,"\n    \n    Optimized with Holiday Optimizer\n    \n    Total PTO Used This Year: ").concat(t.totalPTODays," days\n    Total Days Off This Year: ").concat(t.totalDaysOff," days\n  "),ey=async e=>{try{let{breaks:t,stats:a}=e,r=t.map(e=>{let t=eg(e.startDate),r=ex(e.endDate);return{start:t,end:r,title:"PTO - Holiday Optimizer",description:eh(e,a),busyStatus:"OOF",categories:["PTO","Vacation"],status:"CONFIRMED",calName:"Holiday Optimizer"}}),{error:s,value:n}=(0,em.q2)(r);if(s)return console.error("Error creating calendar events:",s),{success:!1,message:"Error creating calendar file: ".concat(s)};let i=new Blob([n||""],{type:"text/calendar;charset=utf-8"});return(0,eu.saveAs)(i,"holiday-optimizer-calendar-".concat(e.selectedYear,".ics")),{success:!0,message:"Calendar exported successfully! Your events will appear on the correct dates in your calendar."}}catch(e){return console.error("Error exporting to ICS:",e),{success:!1,message:"An error occurred while exporting the calendar: ".concat(e instanceof Error?e.message:String(e))}}};var ep=a(7420),eb=a(6005),ef=a(5624);let ev=e=>{let{breaks:t,stats:a,selectedYear:i}=e,[l,c]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),g=async()=>{if(window.umami&&window.umami.track("Calendar exported"),0===t.length){ep.o.error(N("noBreaksToExport"),{description:N("noBreaksToExportDescription")});return}c(!0),u("ical");try{let e=await ey({breaks:t,stats:a,selectedYear:i});e.success?ep.o.success(N("exportSuccessful"),{description:e.message}):ep.o.error(N("exportFailed"),{description:e.message})}catch(e){ep.o.error(N("exportFailed"),{description:D("exportError",{error:e instanceof Error?e.message:String(e)})})}finally{c(!1),u(null)}};return 0===t.length?null:(0,r.jsx)(j,{title:N("exportCalendar"),subtitle:N("exportCalendarSubtitle"),icon:(0,r.jsx)(p.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),rightContent:(0,r.jsx)(o.TooltipProvider,{children:(0,r.jsxs)(o.m_,{children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsx)("button",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/50 hover:bg-blue-200 dark:hover:bg-blue-800/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",tabIndex:0,"aria-label":N("viewExportInfo"),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&e.preventDefault()},children:(0,r.jsx)(d.A,{className:"h-3.5 w-3.5","aria-hidden":"true"})})}),(0,r.jsx)(o.ZI,{side:"left",className:"max-w-xs",children:(0,r.jsx)("p",{className:"text-xs",children:D("exportInfo",{breaksCount:t.length.toString(),ptoDays:a.totalPTODays.toString(),totalDays:a.totalDaysOff.toString()})})})]})}),children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2 pt-1",role:"region","aria-label":N("calendarExportOptions"),children:(0,r.jsx)(o.TooltipProvider,{children:(0,r.jsxs)(o.m_,{children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsxs)(eb.$,{variant:"outline",size:"sm",onClick:g,disabled:l,className:"h-8 px-3 text-xs focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":N("exportIcalDescription"),tabIndex:0,children:["ical"===m?(0,r.jsx)(n.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mr-1.5","aria-hidden":"true",children:(0,r.jsx)(T.A,{className:"h-3 w-3"})}):(0,r.jsx)(ef.A,{className:"h-3 w-3 mr-1.5","aria-hidden":"true"}),(0,r.jsx)("span",{children:N("exportIcal")})]})}),(0,r.jsx)(o.ZI,{className:"max-w-xs",children:(0,r.jsxs)("p",{className:"text-xs",children:[N("exportIcalTooltip"),(0,r.jsx)("span",{className:"block mt-1 text-blue-500 dark:text-blue-400",children:N("exportIcalTimezoneInfo")})]})})]})})})})},ek={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},ej=(0,s.forwardRef)((e,t)=>{let{optimizedDays:a,breaks:s,stats:i,selectedYear:o}=e;return(0,r.jsxs)(n.P.div,{ref:t,className:"space-y-8",initial:"hidden",animate:"show",variants:ek,children:[s.length>0&&(0,r.jsx)(ev,{breaks:s,stats:i,selectedYear:o}),(0,r.jsx)(O,{stats:i}),(0,r.jsx)(q,{breaks:s}),(0,r.jsx)(ec,{optimizedDays:a,stats:i,selectedYear:o})]})});ej.displayName="ResultsDisplay";var ew=a(1439);let eN={days:"",strategy:"balanced",companyDaysOff:[],holidays:[],selectedDates:[],selectedYear:new Date().getFullYear(),errors:{}};function eD(e,t){switch(t.type){case"SET_DAYS":{let a=parseInt(t.payload);if(""===t.payload||a>=0&&a<=365)return{...e,days:t.payload,errors:{...e.errors,days:void 0}};return{...e,errors:{...e.errors,days:"Please enter a number between 0 and 365"}}}case"SET_STRATEGY":return{...e,strategy:t.payload};case"SET_COMPANY_DAYS":return{...e,companyDaysOff:t.payload};case"ADD_COMPANY_DAY":{let a=function(e){var t;let a={};return(null===(t=e.name)||void 0===t?void 0:t.trim())||(a.name="Name is required"),e.date&&(0,ew.f)((0,C.qg)(e.date,"yyyy-MM-dd",new Date))||(a.date="Valid date is required"),a}(t.payload);if(Object.keys(a).length>0)return{...e,errors:{...e.errors,companyDay:a}};let r=e.companyDaysOff.findIndex(e=>e.date===t.payload.date),s=[...e.companyDaysOff];return -1!==r?s[r]=t.payload:s.push(t.payload),{...e,companyDaysOff:s,errors:{...e.errors,companyDay:void 0}}}case"REMOVE_COMPANY_DAY":return{...e,companyDaysOff:e.companyDaysOff.filter(e=>e.date!==t.payload)};case"SET_ERROR":return{...e,errors:{...e.errors,[t.payload.field]:t.payload.message}};case"CLEAR_ERRORS":return{...e,errors:{}};case"ADD_HOLIDAY":{let a=e.holidays.findIndex(e=>e.date===t.payload.date),r=[...e.holidays];return -1!==a?r[a]=t.payload:r.push(t.payload),{...e,holidays:r,errors:{...e.errors,holiday:void 0}}}case"REMOVE_HOLIDAY":return{...e,holidays:e.holidays.filter(e=>e.date!==t.payload)};case"TOGGLE_DATE":{let a=(0,E.GP)(t.payload,"yyyy-MM-dd");if(e.selectedDates.some(e=>(0,E.GP)(e,"yyyy-MM-dd")===a))return{...e,selectedDates:e.selectedDates.filter(e=>(0,E.GP)(e,"yyyy-MM-dd")!==a),holidays:e.holidays.filter(e=>e.date!==a)};return{...e,selectedDates:[...e.selectedDates,t.payload],holidays:[...e.holidays,{date:a,name:(0,E.GP)(t.payload,"MMMM d, yyyy")}]}}case"CLEAR_HOLIDAYS":return{...e,holidays:[],selectedDates:[]};case"CLEAR_COMPANY_DAYS":return{...e,companyDaysOff:[]};case"SET_DETECTED_HOLIDAYS":{let a=new Map;e.holidays.forEach(e=>{a.set(e.date,{date:e.date,name:e.name,alternateNames:e.alternateNames||[]})}),t.payload.forEach(e=>{let t=a.get(e.date);t?[t.name,...t.alternateNames||[]].includes(e.name)||(t.alternateNames=[...t.alternateNames||[],t.name],t.name=e.name):a.set(e.date,{date:e.date,name:e.name,alternateNames:[]})});let r=Array.from(a.values()).map(e=>{var t;return{date:e.date,name:(null===(t=e.alternateNames)||void 0===t?void 0:t.length)?"".concat(e.name," (+").concat(e.alternateNames.length," other names)"):e.name,alternateNames:e.alternateNames}}),s=r.map(e=>(0,C.qg)(e.date,"yyyy-MM-dd",new Date));return{...e,holidays:r,selectedDates:s}}case"SET_HOLIDAYS":return{...e,holidays:t.payload};case"SET_SELECTED_YEAR":return{...e,selectedYear:t.payload};default:return e}}let eO=(0,s.createContext)(null);function eE(e){let{children:t}=e,[a,n]=(0,s.useReducer)(eD,eN);return(0,r.jsx)(eO.Provider,{value:{state:a,dispatch:n},children:t})}function eC(){let e=(0,s.useContext)(eO);if(!e)throw Error("useOptimizer must be used within an OptimizerProvider");return e}let eS=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});eS.displayName="Input";let eT={teal:{text:"text-teal-900 dark:text-teal-100",bg:"bg-teal-100 dark:bg-teal-900"},blue:{text:"text-blue-900 dark:text-blue-100",bg:"bg-blue-100 dark:bg-blue-900"},amber:{text:"text-amber-900 dark:text-amber-100",bg:"bg-amber-100 dark:bg-amber-900"},violet:{text:"text-violet-900 dark:text-violet-100",bg:"bg-violet-100 dark:bg-violet-900"}};function eP(e){let{number:t,title:a,description:s,colorScheme:n,id:i}=e,o=i||"step-".concat(t,"-heading"),d="".concat(o,"-description");return(0,r.jsxs)("header",{className:"mb-3",children:[(0,r.jsxs)("h2",{id:o,className:(0,l.cn)("text-sm font-semibold flex items-center gap-2",eT[n].text),children:[(0,r.jsx)("span",{className:(0,l.cn)("flex items-center justify-center w-4 h-4 rounded-full","text-xs font-medium",eT[n].bg,eT[n].text),"aria-hidden":"true",children:t}),a]}),(0,r.jsx)("p",{id:d,className:"text-xs leading-relaxed text-gray-600 dark:text-gray-300 mt-1",children:s})]})}let eA={teal:{ring:"ring-teal-900/5 dark:ring-teal-300/10"},blue:{ring:"ring-blue-900/5 dark:ring-blue-300/10"},amber:{ring:"ring-amber-900/5 dark:ring-amber-300/10"},violet:{ring:"ring-violet-900/5 dark:ring-violet-300/10"}};function eM(e){let{children:t,colorScheme:a,className:s,headingId:n}=e;return(0,r.jsx)("section",{className:(0,l.cn)("bg-white/90 dark:bg-gray-800/60","rounded-lg p-2.5","ring-1","relative",eA[a].ring,"space-y-2",s),"aria-labelledby":n,children:t})}function eI(){let{state:e,dispatch:t}=eC();return{holidays:e.holidays,errors:e.errors.holiday,addHoliday:(e,a)=>t({type:"ADD_HOLIDAY",payload:{date:e,name:a}}),removeHoliday:e=>t({type:"REMOVE_HOLIDAY",payload:e}),clearHolidays:()=>t({type:"CLEAR_HOLIDAYS"}),setDetectedHolidays:e=>t({type:"SET_DETECTED_HOLIDAYS",payload:e})}}function e_(){let{state:e,dispatch:t}=eC();return{companyDaysOff:e.companyDaysOff,errors:e.errors.companyDay,addCompanyDay:(e,a)=>t({type:"ADD_COMPANY_DAY",payload:{date:e,name:a}}),removeCompanyDay:e=>t({type:"REMOVE_COMPANY_DAY",payload:e}),clearCompanyDays:()=>t({type:"CLEAR_COMPANY_DAYS"}),setCompanyDays:e=>t({type:"SET_COMPANY_DAYS",payload:e})}}function ez(e){let{title:t,description:a,colorScheme:n,ariaLabel:i}=e,[l,c]=(0,s.useState)(!1),m=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{if("Escape"===e.key&&l){var t;c(!1),null===(t=m.current)||void 0===t||t.focus()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[l]);let u={teal:{hover:"hover:bg-teal-100/70 dark:hover:bg-teal-900/40",ring:"focus:ring-teal-500",icon:"text-teal-500/70 dark:text-teal-400/70",content:"bg-teal-50/95 dark:bg-teal-900/90 border-teal-100 dark:border-teal-800/40 text-teal-900 dark:text-teal-100",header:"text-teal-800 dark:text-teal-300",text:"text-teal-700/90 dark:text-teal-300/90"},blue:{hover:"hover:bg-blue-100/70 dark:hover:bg-blue-900/40",ring:"focus:ring-blue-500",icon:"text-blue-500/70 dark:text-blue-400/70",content:"bg-blue-50/95 dark:bg-blue-900/90 border-blue-100 dark:border-blue-800/40 text-blue-900 dark:text-blue-100",header:"text-blue-800 dark:text-blue-300",text:"text-blue-700/90 dark:text-blue-300/90"},amber:{hover:"hover:bg-amber-100/70 dark:hover:bg-amber-900/40",ring:"focus:ring-amber-500",icon:"text-amber-500/70 dark:text-amber-400/70",content:"bg-amber-50/95 dark:bg-amber-900/90 border-amber-100 dark:border-amber-800/40 text-amber-900 dark:text-amber-100",header:"text-amber-800 dark:text-amber-300",text:"text-amber-700/90 dark:text-amber-300/90"},violet:{hover:"hover:bg-violet-100/70 dark:hover:bg-violet-900/40",ring:"focus:ring-violet-500",icon:"text-violet-500/70 dark:text-violet-400/70",content:"bg-violet-50/95 dark:bg-violet-900/90 border-violet-100 dark:border-violet-800/40 text-violet-900 dark:text-violet-100",header:"text-violet-800 dark:text-violet-300",text:"text-violet-700/90 dark:text-violet-300/90"}};return(0,r.jsxs)(o.m_,{open:l,onOpenChange:c,children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsx)("button",{ref:m,type:"button",className:"rounded-full p-1 ".concat(u[n].hover," cursor-help transition-colors focus:outline-none focus:ring-2 ").concat(u[n].ring," focus:ring-offset-1"),"aria-label":i,"aria-expanded":l,"aria-describedby":l?"tooltip-".concat(t.replace(/\s+/g,"-").toLowerCase()):void 0,"aria-haspopup":"dialog",onKeyDown:e=>{switch(e.key){case"Enter":case" ":e.preventDefault(),c(!l);break;case"Escape":l&&(e.preventDefault(),c(!1))}},tabIndex:0,children:(0,r.jsx)(d.A,{className:"h-3.5 w-3.5 ".concat(u[n].icon),"aria-hidden":"true"})})}),(0,r.jsx)(o.ZI,{side:"right",align:"start",className:"max-w-xs ".concat(u[n].content),role:"tooltip",id:"tooltip-".concat(t.replace(/\s+/g,"-").toLowerCase()),children:(0,r.jsxs)("div",{className:"space-y-2 p-1",children:[(0,r.jsx)("h4",{className:"font-medium ".concat(u[n].header," text-sm"),children:t}),(0,r.jsx)("p",{className:"text-xs ".concat(u[n].text," leading-relaxed"),children:a})]})})]})}let eL=(0,a(1244).F)("inline-flex items-center gap-1.5 rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50",info:"border-transparent bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50",warning:"border-transparent bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-900/50",neutral:"border-transparent bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[0.625rem]",lg:"px-3 py-1 text-sm"},interactive:{true:"cursor-pointer hover:shadow-sm focus:ring-2",false:""}},defaultVariants:{variant:"default",size:"default",interactive:!1}});function eB(e){let{className:t,variant:a,size:s,interactive:n,icon:i,removable:o,onRemove:d,children:c,...m}=e;return(0,r.jsxs)("div",{className:(0,l.cn)(eL({variant:a,size:s,interactive:n}),t),role:n?"button":void 0,tabIndex:n?0:void 0,...m,children:[i&&(0,r.jsx)("span",{className:"shrink-0",children:i}),(0,r.jsx)("span",{children:c}),o&&(0,r.jsx)("button",{type:"button",className:"ml-1 -mr-1 h-3.5 w-3.5 rounded-full text-current opacity-60 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2",onClick:e=>{e.stopPropagation(),null==d||d()},"aria-label":"Remove badge",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",className:"h-3 w-3",children:(0,r.jsx)("path",{d:"M12 4L4 12M4 4l8 8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function eY(e){let{label:t,colorScheme:a}=e;return(0,r.jsx)(eB,{variant:"outline",size:"sm",className:"font-medium text-[0.65rem] px-1.5 ".concat({teal:"bg-teal-50/50 text-teal-600 border-teal-200 dark:bg-teal-900/20 dark:text-teal-300 dark:border-teal-700/30",blue:"bg-blue-50/50 text-blue-600 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-700/30",amber:"bg-amber-50/50 text-amber-600 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-700/30",violet:"bg-violet-50/50 text-violet-600 border-violet-200 dark:bg-violet-900/20 dark:text-violet-300 dark:border-violet-700/30"}[a]),"aria-label":t,role:"status",children:t})}function eR(e){let{title:t,colorScheme:a,badge:s,tooltip:n}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",role:"group","aria-labelledby":"title-".concat(t.replace(/\s+/g,"-").toLowerCase()),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{id:"title-".concat(t.replace(/\s+/g,"-").toLowerCase()),className:"font-medium",children:t}),s&&(0,r.jsx)(eY,{label:s.label,colorScheme:a})]}),(0,r.jsx)(ez,{title:n.title,description:n.description,colorScheme:a,ariaLabel:n.ariaLabel})]})}function eH(){let{days:e,errors:t,setDays:a}=function(){let{state:e,dispatch:t}=eC();return{days:e.days,errors:e.errors.days,setDays:e=>t({type:"SET_DAYS",payload:e})}}(),s=(0,r.jsx)(eR,{title:"Enter Your Days",colorScheme:"teal",tooltip:{title:"Your Available PTO",description:"Enter how many paid time off days you have available. These are workdays you can take off while still getting paid. The optimizer will distribute them strategically.",ariaLabel:"About your PTO days"}}),n=(0,l.cn)("max-w-[160px] h-9","bg-white dark:bg-gray-900","border-teal-200 dark:border-teal-800","focus:border-teal-400 dark:focus:border-teal-600","text-sm font-medium text-teal-900 dark:text-teal-100","placeholder:text-teal-400 dark:placeholder:text-teal-500","transition-colors duration-200",t&&"border-red-300 dark:border-red-700 focus:ring-red-500 focus:border-red-500");return(0,r.jsxs)(eM,{colorScheme:"teal",headingId:"days-heading",children:[(0,r.jsx)(eP,{number:1,title:s,description:"Enter how many paid time off days you have available. The app will optimize their use from today through the end of the year.",colorScheme:"teal",id:"days-heading"}),(0,r.jsxs)("fieldset",{className:"pt-1 border-0 m-0 p-0","aria-labelledby":"days-heading",children:[(0,r.jsx)("legend",{className:"sr-only",children:"Number of paid time off days"}),(0,r.jsxs)("label",{htmlFor:"days",className:"block text-sm font-medium text-teal-700 dark:text-teal-300 mb-1",children:["Number of days",(0,r.jsx)("span",{className:"sr-only",children:"(numeric input field)"})]}),(0,r.jsx)(eS,{autoFocus:!0,id:"days",name:"days",type:"number",inputMode:"numeric",pattern:"[0-9]*",maxLength:3,min:1,max:365,value:e,onChange:e=>a(e.target.value),className:n,placeholder:"Enter days",required:!0,"aria-describedby":t?"days-error":void 0,"aria-invalid":!!t}),t&&(0,r.jsx)("p",{id:"days-error",role:"alert",className:"text-xs font-medium text-red-500 dark:text-red-400 mt-1.5",children:t})]})]})}var eW=a(4733),eF=a(3532);let eG={balanced:eW.A,miniBreaks:S.A,longWeekends:eF.A,weekLongBreaks:W.A,extendedVacations:G.A};function eK(){let{strategy:e,setStrategy:t}=function(){let{state:e,dispatch:t}=eC();return{strategy:e.strategy,setStrategy:e=>t({type:"SET_STRATEGY",payload:e})}}(),a=(0,r.jsx)(eR,{title:"Choose Your Style",colorScheme:"blue",tooltip:{title:"Optimization Styles",description:"Your selected style determines how your days will be distributed throughout the year. Each option creates a different pattern of time off based on your preferences - from short breaks to longer vacations.",ariaLabel:"About optimization styles"}});return(0,r.jsxs)(eM,{colorScheme:"blue",headingId:"strategy-heading",children:[(0,r.jsx)(eP,{number:2,title:a,description:"Select how you'd like to distribute your time off. This affects the length and frequency of your breaks throughout the year.",colorScheme:"blue",id:"strategy-heading"}),(0,r.jsxs)("fieldset",{className:"space-y-2 border-0 m-0 p-0","aria-labelledby":"strategy-heading",role:"radiogroup",children:[(0,r.jsx)("legend",{className:"sr-only",children:"Select optimization strategy"}),i.yE.map(a=>{let s=eG[a.id],n=e===a.id;return(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("label",{htmlFor:"strategy-".concat(a.id),className:(0,l.cn)("flex items-start p-2.5 rounded-lg transition-all duration-200 cursor-pointer","focus-within:ring-2 focus-within:ring-blue-400 dark:focus-within:ring-blue-600",n?"bg-blue-50/80 dark:bg-blue-900/30 ring-1 ring-blue-900/10 dark:ring-blue-400/10":"bg-white dark:bg-gray-800/60 ring-1 ring-gray-200 dark:ring-gray-700 hover:ring-blue-200 dark:hover:ring-blue-800"),children:[(0,r.jsx)("input",{type:"radio",id:"strategy-".concat(a.id),name:"strategy",value:a.id,checked:n,onChange:()=>t(a.id),className:"absolute opacity-0 h-0 w-0",tabIndex:0,"aria-describedby":"strategy-description-".concat(a.id)}),(0,r.jsxs)("div",{className:"flex items-start gap-3 w-full",children:[(0,r.jsx)("div",{className:(0,l.cn)("p-2 rounded-md mt-0.5",n?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400"),children:(0,r.jsx)(s,{className:"h-4 w-4","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:a.label}),"balanced"===a.id&&(0,r.jsx)("span",{className:"inline-flex items-center rounded-md bg-blue-50/80 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-900 dark:text-blue-100 ring-1 ring-blue-900/10 dark:ring-blue-400/10",children:"Recommended"})]}),(0,r.jsx)("p",{id:"strategy-description-".concat(a.id),className:"text-xs leading-relaxed text-gray-600 dark:text-gray-300 mt-1",children:a.description})]}),n&&(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-600 dark:bg-blue-300 flex-shrink-0 mt-1.5"})]})]})},a.id)})]})]})}var e$=a(5595),eq=a(8959),eV=a(8816),eU=a(8044);function eX(e){let{className:t,classNames:a,showOutsideDays:s=!0,...n}=e;return(0,r.jsx)(eU.hv,{showOutsideDays:s,className:(0,l.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,eb.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,l.cn)((0,eb.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,r.jsx)(eq.A,{className:(0,l.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,r.jsx)(eV.A,{className:(0,l.cn)("h-4 w-4",t),...a})}},...n})}eX.displayName="Calendar";var eJ=a(1729);let eZ=e=>{let{ariaLabel:t,Icon:a,className:s,colorScheme:n,...i}=e;return(0,r.jsx)("span",{...i,"aria-label":t,tabIndex:0,className:(0,l.cn)("flex items-center justify-center","rounded-md","h-7 w-7","bg-transparent","hover:bg-gray-100 dark:hover:bg-gray-800","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","amber"===n?"focus-visible:ring-amber-500":"focus-visible:ring-violet-500","disabled:opacity-40 disabled:pointer-events-none",s),children:(0,r.jsx)(a,{className:"h-4 w-4","aria-hidden":"true"})})};function eQ(e){let{selectedDates:t,onDateSelect:a,colorScheme:n,minDate:i,maxDate:o,id:d,year:c}=e,[m,u]=(0,s.useState)(()=>c?(0,eJ.D)(new Date(c,0,1)):(0,Q.w)(new Date));(0,s.useEffect)(()=>{c&&u((0,eJ.D)(new Date(c,0,1)))},[c]);let g={amber:{selected:"bg-amber-100 text-amber-950 dark:bg-amber-900 dark:text-amber-50 shadow-amber-200/50 dark:shadow-amber-900/50",hover:"hover:bg-amber-50 dark:hover:bg-amber-800 hover:text-amber-950 dark:hover:text-amber-50",ring:"focus-visible:ring-4 focus-visible:ring-amber-500/50 dark:focus-visible:ring-amber-400/50",today:"ring-2 ring-amber-400 dark:ring-amber-500 bg-amber-50 dark:bg-amber-900",cell:"[&:has([aria-selected])]:bg-amber-50 dark:[&:has([aria-selected])]:bg-amber-900/70 [&:has([aria-selected])]:shadow-sm",header:"text-amber-950 dark:text-amber-100",nav:{button:"hover:bg-amber-50 dark:hover:bg-amber-800 text-amber-900 dark:text-amber-100 hover:text-amber-950 dark:hover:text-amber-50",icon:"text-amber-700 dark:text-amber-300"}},violet:{selected:"bg-violet-100 text-violet-950 dark:bg-violet-900 dark:text-violet-50 shadow-violet-200/50 dark:shadow-violet-900/50",hover:"hover:bg-violet-50 dark:hover:bg-violet-800 hover:text-violet-950 dark:hover:text-violet-50",ring:"focus-visible:ring-4 focus-visible:ring-violet-500/50 dark:focus-visible:ring-violet-400/50",today:"ring-2 ring-violet-400 dark:ring-violet-500 bg-violet-50 dark:bg-violet-900",cell:"[&:has([aria-selected])]:bg-violet-50 dark:[&:has([aria-selected])]:bg-violet-900/70 [&:has([aria-selected])]:shadow-sm",header:"text-violet-950 dark:text-violet-100",nav:{button:"hover:bg-violet-50 dark:hover:bg-violet-800 text-violet-900 dark:text-violet-100 hover:text-violet-950 dark:hover:text-violet-50",icon:"text-violet-700 dark:text-violet-300"}}},x="amber"===n?"holidays":"company days";return(0,r.jsxs)("section",{"aria-label":"Calendar for selecting ".concat(x),id:d,className:"relative",children:[(0,r.jsxs)("div",{className:"sr-only",children:[(0,r.jsx)("h2",{children:"Calendar Navigation Instructions"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Use Tab and Shift+Tab to navigate between calendar elements"}),(0,r.jsx)("li",{children:"Use arrow keys to move between days"}),(0,r.jsx)("li",{children:"Press Space or Enter to select a date"}),(0,r.jsx)("li",{children:"Use Page Up/Down to move between months"}),(0,r.jsx)("li",{children:"Use the “Previous month” and “Next month” buttons to navigate between months"}),(0,r.jsx)("li",{children:"Press Tab to reach the month navigation buttons and Space or Enter to activate them"})]})]}),(0,r.jsx)(eX,{mode:"multiple",selected:t,onDayClick:(e,t)=>{t.disabled||a(e)},month:m,onMonthChange:u,showOutsideDays:!0,fromDate:i,toDate:o,disabled:e=>{if(c&&e.getFullYear()!==c)return!0;if(!i&&!o)return!1;let t=!!i&&e<(0,Q.w)(i),a=!!o&&e>o;return t||a},className:(0,l.cn)("w-full select-none rounded-2xl border border-gray-200 dark:border-gray-700","bg-white dark:bg-gray-900","shadow-sm","p-3.5 sm:p-4","ring-1 ring-black/5 dark:ring-white/10"),pagedNavigation:!0,modifiersClassNames:{selected:"selected-day"},modifiers:{today:new Date},components:{IconLeft:e=>(0,r.jsx)(eZ,{...e,ariaLabel:"Go to previous month",Icon:eq.A,colorScheme:n}),IconRight:e=>(0,r.jsx)(eZ,{...e,ariaLabel:"Go to next month",Icon:eV.A,colorScheme:n})},classNames:{months:"flex flex-col sm:flex-row space-y-6 sm:space-x-6 sm:space-y-0",month:(0,l.cn)("space-y-4 w-full rounded-xl","transition-opacity duration-200 ease-in-out"),caption:(0,l.cn)("flex justify-center pt-1 relative items-center h-9","mb-2",g[n].header),caption_label:"text-sm font-semibold tracking-wide",nav:"space-x-1 flex items-center absolute inset-0",nav_button:(0,l.cn)("h-7 w-7 bg-transparent rounded-lg transition-all duration-200","hover:bg-gray-100 dark:hover:bg-gray-800","active:scale-95","focus-visible:outline-none focus-visible:ring-4","disabled:opacity-40 disabled:pointer-events-none disabled:cursor-not-allowed","focus:ring-offset-2","focus:ring-2","focus-visible:ring-2","focus-visible:ring-offset-2",g[n].nav.button),nav_button_previous:(0,l.cn)("absolute left-1 flex items-center justify-center opacity-85 hover:opacity-100","focus:outline-none focus:ring-4 focus:ring-offset-2","amber"===n?"focus:ring-amber-500/50":"focus:ring-violet-500/50","cursor-pointer","transition-all duration-200","h-7 w-7 rounded-md","focus-visible:ring-4","aria-disabled:opacity-50 aria-disabled:pointer-events-none","focus-visible:ring-offset-2","amber"===n?"focus-visible:ring-amber-500/50":"focus-visible:ring-violet-500/50"),nav_button_next:(0,l.cn)("absolute right-1 flex items-center justify-center opacity-85 hover:opacity-100","focus:outline-none focus:ring-4 focus:ring-offset-2","amber"===n?"focus:ring-amber-500/50":"focus:ring-violet-500/50","cursor-pointer","transition-all duration-200","h-7 w-7 rounded-md","focus-visible:ring-4","aria-disabled:opacity-50 aria-disabled:pointer-events-none","focus-visible:ring-offset-2","amber"===n?"focus-visible:ring-amber-500/50":"focus-visible:ring-violet-500/50"),table:"w-full border-collapse space-y-1",head_row:"flex w-full border-b border-gray-200 dark:border-gray-700",head_cell:(0,l.cn)("flex-1 pb-2 text-center text-xs font-medium tracking-widest uppercase","text-gray-600 dark:text-gray-400","[&:first-child]:text-red-600/90 dark:[&:first-child]:text-red-400","select-none transition-colors duration-200"),row:"flex w-full mt-2",cell:(0,l.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20",g[n].cell,"first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md","h-8 w-full"),day:(0,l.cn)("h-8 w-full p-0 font-normal","aria-selected:opacity-100","hover:bg-gray-100 dark:hover:bg-gray-800","active:scale-90",g[n].hover,"focus-visible:outline-none focus-visible:ring-4",g[n].ring,"focus-visible:ring-offset-1","transition-all duration-150 ease-out","rounded-md","disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-transparent dark:disabled:hover:bg-transparent","text-gray-900 dark:text-gray-100"),day_today:(0,l.cn)("bg-gray-50 dark:bg-gray-800","font-semibold",g[n].today,"shadow-sm"),day_outside:(0,l.cn)("text-gray-500 dark:text-gray-500 opacity-50 hover:opacity-70","transition-opacity duration-200"),day_disabled:(0,l.cn)("text-gray-400 dark:text-gray-600 opacity-40","cursor-not-allowed hover:bg-transparent dark:hover:bg-transparent","select-none"),day_range_middle:"aria-selected:bg-gray-100 dark:aria-selected:bg-gray-800",day_hidden:"invisible",day_selected:(0,l.cn)(g[n].selected,"font-medium shadow-sm","scale-[0.95]")}})]})}var e0=a(4362);let e1={amber:{container:"bg-gradient-to-br from-amber-50/80 to-amber-100/30 dark:from-amber-900/20 dark:to-amber-900/10",border:"border-amber-200/60 dark:border-amber-800/60",text:"text-amber-900 dark:text-amber-100",muted:"text-amber-600/70 dark:text-amber-400/70",accent:"text-amber-600 dark:text-amber-400",hover:"hover:bg-amber-100/70 dark:hover:bg-amber-900/50",active:"active:bg-amber-200/70 dark:active:bg-amber-900/70",focus:"focus:ring-amber-400/30 dark:focus:ring-amber-300/30",divider:"border-amber-200/30 dark:border-amber-800/30",highlight:"bg-amber-100/50 dark:bg-amber-900/40",input:"border-amber-200 dark:border-amber-800 focus:border-amber-400 dark:focus:border-amber-600"},violet:{container:"bg-gradient-to-br from-violet-50/80 to-violet-100/30 dark:from-violet-900/20 dark:to-violet-900/10",border:"border-violet-200/60 dark:border-violet-800/60",text:"text-violet-900 dark:text-violet-100",muted:"text-violet-600/70 dark:text-violet-400/70",accent:"text-violet-600 dark:text-violet-400",hover:"hover:bg-violet-100/70 dark:hover:bg-violet-900/50",active:"active:bg-violet-200/70 dark:active:bg-violet-900/70",focus:"focus:ring-violet-400/30 dark:focus:ring-violet-300/30",divider:"border-violet-200/30 dark:border-violet-800/30",highlight:"bg-violet-100/50 dark:bg-violet-900/40",input:"border-violet-200 dark:border-violet-800 focus:border-violet-400 dark:focus:border-violet-600"}},e5={initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2}};var e2=a(745);let e3=(0,s.createContext)(null);function e4(){let e=(0,s.useContext)(e3);if(!e)throw Error("useDateList must be used within a DateListProvider");return e}let e9=e=>{let{title:t,colorScheme:a,children:n}=e,{holidays:i,addHoliday:o,removeHoliday:l,clearHolidays:d}=eI(),[c,m]=(0,s.useState)(null),[u,g]=(0,s.useState)(""),x=i.length,h="holiday-list-heading-".concat(t.toLowerCase().replace(/\s+/g,"-")),y=()=>{m(null),g("")};return(0,r.jsx)(e3.Provider,{value:{items:i,colorScheme:a,title:t,editingDate:c,editingValue:u,itemCount:x,headingId:h,onRemoveAction:l,onClearAllAction:d,onUpdateNameAction:o,startEditing:(e,t)=>{m(e),g(t)},cancelEdit:y,confirmEdit:e=>{u.trim()&&o(e,u.trim()),y()},setEditingValue:g},children:n})};function e7(){let{headingId:e,title:t,itemCount:a,colorScheme:s,onClearAllAction:n}=e4();return(0,r.jsx)("div",{className:"mb-4 space-y-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("div",{className:(0,l.cn)("p-1.5 rounded-lg",e1[s].highlight),children:(0,r.jsx)(p.A,{className:(0,l.cn)("h-4 w-4",e1[s].accent),"aria-hidden":"true"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{id:e,className:(0,l.cn)("text-sm font-medium leading-none mb-1",e1[s].text),children:t}),(0,r.jsxs)("p",{className:(0,l.cn)("text-xs",e1[s].muted),children:[a," date",1===a?"":"s"," selected"]})]})]}),(0,r.jsxs)(eb.$,{type:"button",variant:"outline",size:"sm",onClick:n,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),n())},className:(0,l.cn)("h-7 px-2.5 gap-1.5","border transition-all duration-200",e1[s].border,e1[s].hover,e1[s].active,"hover:border-opacity-100","group"),tabIndex:0,"aria-label":"Clear all ".concat(t.toLowerCase()),"data-clear-button":"true",children:[(0,r.jsx)(e2.A,{className:(0,l.cn)("h-3.5 w-3.5","transition-colors duration-200",e1[s].accent)}),(0,r.jsx)("span",{className:(0,l.cn)("text-xs font-medium",e1[s].text),children:"Clear All"})]})]})})}var e6=a(1612),e8=a(3232),te=a(9369);function tt(e){let{item:t}=e,{editingDate:a,editingValue:n,colorScheme:i,setEditingValue:o,startEditing:d,cancelEdit:c,confirmEdit:m,onRemoveAction:u}=e4(),g=(0,s.useRef)(null),x=(0,E.GP)((0,C.qg)(t.date,"yyyy-MM-dd",new Date),"MMMM d, yyyy"),h=a===t.date,y=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),t())};return(0,r.jsx)("div",{className:(0,l.cn)("group/item relative","border-t",e1[i].divider,e1[i].hover,"transition-colors duration-200"),"data-date":t.date,children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:h?(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(eS,{ref:g,autoFocus:!0,value:n,onChange:e=>o(e.target.value),onKeyDown:e=>{"Escape"===e.key?(e.preventDefault(),c()):"Enter"===e.key&&(e.preventDefault(),m(t.date))},className:(0,l.cn)("h-7 text-sm font-medium flex-1","bg-white dark:bg-gray-900",e1[i].input,e1[i].text),"aria-label":"Edit name for ".concat(x),"data-edit-input":"true"}),(0,r.jsxs)("div",{className:"flex gap-1",role:"group","aria-label":"Edit actions",children:[(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:c,onKeyDown:e=>y(e,c),className:(0,l.cn)("h-7 w-7 p-0",e1[i].hover,"hover:bg-red-100/70 dark:hover:bg-red-900/30","group focus:ring-1 focus:ring-red-500 focus:ring-offset-1"),tabIndex:0,"aria-label":"Cancel edit","data-cancel-button":"true",children:(0,r.jsx)(e6.A,{className:(0,l.cn)("h-3.5 w-3.5",e1[i].accent,"group-hover:text-red-500 dark:group-hover:text-red-400")})}),(0,r.jsx)(eb.$,{type:"button",onClick:()=>m(t.date),onKeyDown:e=>y(e,()=>m(t.date)),variant:"ghost",size:"sm",className:(0,l.cn)("h-7 w-7 p-0",e1[i].hover,"hover:bg-green-100/70 dark:hover:bg-green-900/30","group focus:ring-1 focus:ring-green-500 focus:ring-offset-1"),tabIndex:0,"aria-label":"Confirm edit","data-confirm-button":"true",children:(0,r.jsx)(e8.A,{className:(0,l.cn)("h-3.5 w-3.5",e1[i].accent,"group-hover:text-green-500 dark:group-hover:text-green-400")})})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:(0,l.cn)("text-sm font-medium",e1[i].text),children:t.name}),(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(t.date,t.name),onKeyDown:e=>y(e,()=>d(t.date,t.name)),className:(0,l.cn)("h-6 w-6 p-0","opacity-0 group-hover/item:opacity-100 focus:opacity-100","transition-all duration-200",e1[i].hover,"hover:scale-110 active:scale-95","focus:ring-1 focus:ring-amber-500 focus:ring-offset-1"),"aria-label":"Edit name for ".concat(t.name),tabIndex:0,"data-date":t.date,"data-edit-button":"true",children:(0,r.jsx)(te.A,{className:(0,l.cn)("h-3 w-3",e1[i].accent)})})]}),(0,r.jsx)("time",{dateTime:t.date,className:(0,l.cn)("block text-xs mt-0.5",e1[i].muted),children:x})]})}),(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>u(t.date),onKeyDown:e=>y(e,()=>u(t.date)),className:(0,l.cn)("h-7 w-7 p-0","opacity-0 group-hover/item:opacity-100 focus:opacity-100","transition-all duration-200",e1[i].hover,"group focus:ring-1 focus:ring-red-500 focus:ring-offset-1",h?"opacity-100":""),tabIndex:0,"aria-label":"Remove ".concat(t.name),"data-date-remove-button":"true",children:(0,r.jsx)(e6.A,{className:(0,l.cn)("h-3.5 w-3.5",e1[i].accent,"group-hover:text-red-500 dark:group-hover:text-red-400")})})]})})}function ta(){let{items:e}=e4(),t=[...e].sort((e,t)=>(0,C.qg)(e.date,"yyyy-MM-dd",new Date).getTime()-(0,C.qg)(t.date,"yyyy-MM-dd",new Date).getTime());return(0,r.jsx)(r.Fragment,{children:t.map((e,t)=>(0,r.jsx)(n.P.li,{...e5,"data-list-item":"true","data-list-index":t,children:(0,r.jsx)(tt,{item:e})},e.date))})}let tr=e=>{let{title:t,colorScheme:a}=e,{holidays:s}=eI();return 0===s.length?null:(0,r.jsx)(e9,{title:t,colorScheme:a,children:(0,r.jsx)(ts,{})})};function ts(){let{colorScheme:e,headingId:t}=e4();return(0,r.jsxs)(n.P.section,{...e5,initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:(0,l.cn)("rounded-xl border p-4","shadow-sm hover:shadow-md","transition-all duration-300 ease-in-out",e1[e].container,e1[e].border),"aria-labelledby":t,children:[(0,r.jsx)(e7,{}),(0,r.jsx)("div",{className:(0,l.cn)("rounded-lg border",e1[e].border,"overflow-hidden"),children:(0,r.jsx)("ul",{className:(0,l.cn)("divide-y",e1[e].divider),"aria-label":"List of dates",children:(0,r.jsx)(e0.N,{initial:!1,mode:"popLayout",children:(0,r.jsx)(ta,{})})})})]})}let tn=async(e,t)=>{try{let a=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(t,"&localityLanguage=en"));return await a.json()}catch(e){throw console.error("Error getting country from coordinates:",e),Error("Failed to detect country from location")}},ti=async e=>{try{let t=await new Promise((e,t)=>{if(!navigator.geolocation){t(Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(e,t)}),{countryCode:a,principalSubdivisionCode:r}=await tn(t.coords.latitude,t.coords.longitude),s=e||new Date().getUTCFullYear(),n=await fetch("https://date.nager.at/api/v3/PublicHolidays/".concat(s,"/").concat(a));if(!n.ok)throw Error("Failed to fetch holidays");return(await n.json()).filter(e=>{var t;return e.global||(null===(t=e.counties)||void 0===t?void 0:t.includes(r))}).map(e=>({date:e.date,name:e.localName||e.name}))}catch(e){throw console.error("Error detecting public holidays:",e),e}};function to(){let e="amber",{holidays:t,addHoliday:a,removeHoliday:s,setDetectedHolidays:n}=eI(),{state:i}=eC(),{selectedYear:o}=i,l=async()=>{try{let e=await ti(o);n(e),ep.o.success("Holidays detected",{description:"Found ".concat(e.length," public holidays for your location in ").concat(o,". Any custom holidays have been preserved.")})}catch(e){console.error("Error detecting holidays:",e),ep.o.error("Error detecting holidays",{description:e instanceof Error?e.message:"Failed to detect holidays for your location."})}},d=(0,r.jsx)(eR,{title:"Public Holidays",colorScheme:e,tooltip:{title:"About Public Holidays",description:"Public holidays are already non-working days, so you don't need to use PTO for them. Adding them helps create an optimized schedule that accounts for these days when planning your time off.",ariaLabel:"Why public holidays matter"}}),c=t.map(e=>(0,C.qg)(e.date,"yyyy-MM-dd",new Date));return(0,r.jsxs)(eM,{colorScheme:e,headingId:"holidays-heading",children:[(0,r.jsx)(eP,{number:3,title:d,description:"Add public holidays for ".concat(o," by using auto-detection or selecting dates from the calendar."),colorScheme:e,id:"holidays-heading"}),(0,r.jsxs)("fieldset",{className:"space-y-3 border-0 m-0 p-0","aria-labelledby":"holidays-heading",children:[(0,r.jsx)("legend",{className:"sr-only",children:"Public holidays selection"}),(0,r.jsxs)(eb.$,{id:"detect-holidays-button",onClick:l,variant:"outline",size:"sm",type:"button",tabIndex:0,className:"w-full bg-amber-50/50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 text-amber-900 dark:text-amber-100 hover:bg-amber-100/50 dark:hover:bg-amber-900/30 focus:ring-2 focus:ring-amber-400 dark:focus:ring-amber-300 focus:ring-offset-2","aria-label":"Find public holidays in your location for ".concat(o),children:[(0,r.jsx)(e$.A,{className:"h-3.5 w-3.5 mr-2 text-amber-600 dark:text-amber-400","aria-hidden":"true"}),"Auto-Detect Holidays"]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(eQ,{id:"holidays-calendar",selectedDates:c,onDateSelect:e=>{let r=(0,E.GP)(e,"yyyy-MM-dd");t.some(e=>e.date===r)?s(r):a(r,(0,E.GP)(e,"MMMM d, yyyy"))},colorScheme:e,year:o}),(0,r.jsx)(tr,{title:"Selected Holidays",colorScheme:e})]})]})]})}let tl={amber:{container:"bg-gradient-to-br from-amber-50/80 to-amber-100/30 dark:from-amber-900/20 dark:to-amber-900/10",border:"border-amber-200/60 dark:border-amber-800/60",text:"text-amber-900 dark:text-amber-100",muted:"text-amber-600/70 dark:text-amber-400/70",accent:"text-amber-600 dark:text-amber-400",hover:"hover:bg-amber-100/70 dark:hover:bg-amber-900/50",active:"active:bg-amber-200/70 dark:active:bg-amber-900/70",focus:"focus:ring-amber-400/30 dark:focus:ring-amber-300/30",divider:"border-amber-200/30 dark:border-amber-800/30",highlight:"bg-amber-100/50 dark:bg-amber-900/40",input:"border-amber-200 dark:border-amber-800 focus:border-amber-400 dark:focus:border-amber-600"},violet:{container:"bg-gradient-to-br from-violet-50/80 to-violet-100/30 dark:from-violet-900/20 dark:to-violet-900/10",border:"border-violet-200/60 dark:border-violet-800/60",text:"text-violet-900 dark:text-violet-100",muted:"text-violet-600/70 dark:text-violet-400/70",accent:"text-violet-600 dark:text-violet-400",hover:"hover:bg-violet-100/70 dark:hover:bg-violet-900/50",active:"active:bg-violet-200/70 dark:active:bg-violet-900/70",focus:"focus:ring-violet-400/30 dark:focus:ring-violet-300/30",divider:"border-violet-200/30 dark:border-violet-800/30",highlight:"bg-violet-100/50 dark:bg-violet-900/40",input:"border-violet-200 dark:border-violet-800 focus:border-violet-400 dark:focus:border-violet-600"}},td={initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2}},tc={initial:{opacity:0,scale:.8,width:0},animate:{opacity:1,scale:1,width:"auto"},exit:{opacity:0,scale:.8,width:0},transition:{duration:.2}};var tm=a(1222),tu=a(1467);let tg=e=>e.filter(e=>!e.isDefaultNamed).map(e=>e.name),tx=(0,s.createContext)(void 0),th=e=>{let{children:t,title:a,colorScheme:n,onBulkRename:i}=e,{companyDaysOff:o,addCompanyDay:l,removeCompanyDay:d,clearCompanyDays:c}=e_(),m=function(e){return(0,s.useMemo)(()=>e.reduce((e,t)=>{let a=(0,C.qg)(t.date,"yyyy-MM-dd",new Date),r=t.name===(0,E.GP)(a,"MMMM d, yyyy"),s=r?(0,E.GP)(a,"MMMM yyyy"):t.name,n=e.find(e=>e.name===s&&e.isDefaultNamed===r);if(n)n.dates.push(t);else{let n=new Date(a.getFullYear(),a.getMonth(),1);e.push({name:s,dates:[t],isDefaultNamed:r,groupKeyTimestamp:n.getTime()})}return e},[]).map(e=>({...e,dates:e.dates.sort((e,t)=>(0,C.qg)(e.date,"yyyy-MM-dd",new Date).getTime()-(0,C.qg)(t.date,"yyyy-MM-dd",new Date).getTime())})).sort((e,t)=>e.groupKeyTimestamp-t.groupKeyTimestamp),[e])}(o),{collapsedGroups:u,setCollapsedGroups:g}=function(e){let[t,a]=(0,s.useState)(()=>tg(e));return(0,s.useEffect)(()=>{a(tg(e))},[e]),{collapsedGroups:t,setCollapsedGroups:a}}(m),{selectedDates:x,setSelectedDates:h,editingDate:y,setEditingDate:p,editingValue:b,setEditingValue:f,handleBulkRename:v,handleBulkRenameConfirm:k}=function(e){let[t,a]=(0,s.useState)([]),[r,n]=(0,s.useState)(null),[i,o]=(0,s.useState)("");return{selectedDates:t,setSelectedDates:a,editingDate:r,setEditingDate:n,editingValue:i,setEditingValue:o,handleBulkRename:a=>{e&&0!==t.length&&(o(Object.entries(a.filter(e=>t.includes(e.date)).reduce((e,t)=>(e[t.name]=(e[t.name]||0)+1,e),{})).reduce((e,t)=>e[1]>t[1]?e:t)[0]),n("bulk"))},handleBulkRenameConfirm:()=>{e&&0!==t.length&&(e(t,i.trim()),n(null),a([]))}}}(i);return(0,r.jsx)(tx.Provider,{value:{items:o,title:a,colorScheme:n,groupedDates:m,selectedDates:x,collapsedGroups:u,editingDate:y,editingValue:b,setSelectedDates:h,setEditingDate:p,setEditingValue:f,setCollapsedGroups:g,handleSelectGroup:e=>{var t;let a=((null===(t=m.find(t=>t.name===e))||void 0===t?void 0:t.dates)||[]).map(e=>e.date),r=a.every(e=>x.includes(e));h(e=>r?e.filter(e=>!a.includes(e)):[...new Set([...e,...a])])},toggleGroupCollapse:e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},handleKeyDown:(e,t)=>{let a=o.findIndex(e=>e.date===t);if(-1!==a)switch(e.key){case"Delete":case"Backspace":null===y&&(e.preventDefault(),d(t));break;case"ArrowUp":case"ArrowDown":if(e.preventDefault(),null===y){var r;let t=null===(r=o["ArrowUp"===e.key?a-1:a+1])||void 0===r?void 0:r.date;if(t){let e=document.querySelector('[data-date="'.concat(t,'"]'));null==e||e.focus()}}break;case"Enter":null!==y&&l&&(e.preventDefault(),l(t,b.trim()),p(null));break;case"Escape":null!==y&&(e.preventDefault(),p(null))}},startEditing:(e,t)=>{l&&(f(t),p(e))},handleBlur:()=>{null!==y&&l&&(l(y,b.trim()),p(null))},handleBulkRename:()=>{v(o)},handleBulkRenameConfirm:k,onRemoveAction:d,onClearAllAction:c,onUpdateName:l},children:t})},ty=()=>{let e=(0,s.useContext)(tx);if(void 0===e)throw Error("useDateList must be used within a DateListProvider");return e};function tp(e){let{id:t}=e,{title:a,colorScheme:s,items:n,selectedDates:i,groupedDates:o,collapsedGroups:d,handleBulkRename:c,onClearAllAction:m,setCollapsedGroups:u}=ty(),g=n.length;return(0,r.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("div",{className:(0,l.cn)("p-1.5 rounded-lg",tl[s].highlight),children:(0,r.jsx)(p.A,{className:(0,l.cn)("h-4 w-4",tl[s].accent),"aria-hidden":"true"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{id:t,className:(0,l.cn)("text-sm font-medium leading-none mb-1",tl[s].text),children:a}),(0,r.jsxs)("p",{className:(0,l.cn)("text-xs",tl[s].muted),children:[g," date",1===g?"":"s"," selected"]})]})]}),(0,r.jsxs)(eb.$,{type:"button",variant:"outline",size:"sm",onClick:m,className:(0,l.cn)("h-7 px-2.5 gap-1.5","border transition-all duration-200",tl[s].border,tl[s].hover,tl[s].active,"hover:border-opacity-100","group"),tabIndex:0,"aria-label":"Clear all ".concat(a.toLowerCase()),children:[(0,r.jsx)(e2.A,{className:(0,l.cn)("h-3.5 w-3.5","transition-colors duration-200",tl[s].accent)}),(0,r.jsx)("span",{className:(0,l.cn)("text-xs font-medium",tl[s].text),children:"Clear All"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(eb.$,{type:"button",variant:"outline",size:"sm",onClick:c,disabled:0===i.length,className:(0,l.cn)("h-7 px-2.5 gap-1.5","border transition-all duration-200",tl[s].border,i.length>0&&[tl[s].hover,tl[s].active],"hover:border-opacity-100","group","flex-1","disabled:opacity-50 disabled:cursor-not-allowed","disabled:hover:bg-transparent"),tabIndex:0,"aria-label":i.length>0?"Rename ".concat(i.length," selected dates"):"Select dates to rename them",children:[(0,r.jsx)(te.A,{className:(0,l.cn)("h-3.5 w-3.5",tl[s].accent,"opacity-50 group-hover:opacity-100 transition-opacity",0===i.length&&"opacity-40 group-hover:opacity-40")}),(0,r.jsx)("span",{className:(0,l.cn)("text-xs font-medium",tl[s].text),children:i.length>0?"Rename ".concat(i.length):"Rename Selected"})]}),o.length>1&&(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=o.every(e=>d.includes(e.name));u(()=>e?[]:o.map(e=>e.name))},className:(0,l.cn)("h-7 px-2.5 gap-1.5",tl[s].hover,"group","hidden sm:flex"),tabIndex:0,"aria-label":o.every(e=>d.includes(e.name))?"Expand all groups":"Collapse all groups",children:o.every(e=>d.includes(e.name))?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tm.A,{className:(0,l.cn)("h-3.5 w-3.5",tl[s].accent)}),(0,r.jsx)("span",{className:(0,l.cn)("text-xs font-medium",tl[s].text),children:"Expand All"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tu.A,{className:(0,l.cn)("h-3.5 w-3.5",tl[s].accent)}),(0,r.jsx)("span",{className:(0,l.cn)("text-xs font-medium",tl[s].text),children:"Collapse All"})]})})]})]})}function tb(){let{colorScheme:e,editingValue:t,setEditingValue:a,setEditingDate:s,handleBulkRenameConfirm:n}=ty();return(0,r.jsx)("div",{className:(0,l.cn)("mb-4 p-3 rounded-lg",tl[e].highlight,"animate-in fade-in"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eS,{autoFocus:!0,value:t,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),n()),"Escape"===e.key&&(e.preventDefault(),s(null))},placeholder:"Enter a new name for selected dates",className:(0,l.cn)("h-8 text-sm","bg-white dark:bg-gray-900","flex-1",tl[e].input)}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>s(null),className:(0,l.cn)("h-8 w-8 p-0","hover:bg-red-100/70 dark:hover:bg-red-900/30","group"),"aria-label":"Cancel Rename",children:(0,r.jsx)(e6.A,{className:(0,l.cn)("h-4 w-4","text-gray-500 dark:text-gray-400","group-hover:text-red-500 dark:group-hover:text-red-400")})}),(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:n,className:(0,l.cn)("h-8 w-8 p-0","hover:bg-green-100/70 dark:hover:bg-green-900/30","group"),"aria-label":"Confirm Rename",children:(0,r.jsx)(e8.A,{className:(0,l.cn)("h-4 w-4","text-gray-500 dark:text-gray-400","group-hover:text-green-500 dark:group-hover:text-green-400")})})]})]})})}function tf(e){let{item:t,isGrouped:a=!1}=e,{selectedDates:s,setSelectedDates:i,editingDate:o,setEditingDate:d,editingValue:c,setEditingValue:m,onRemoveAction:u,colorScheme:g,handleKeyDown:x,startEditing:h,handleBlur:y}=ty(),p=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),t())};return(0,r.jsx)("div",{className:(0,l.cn)("group/item relative","border-t",tl[g].divider,tl[g].hover,"transition-colors duration-200","pl-8"),children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2",children:[(0,r.jsx)(n.P.div,{...tc,children:(0,r.jsx)("input",{type:"checkbox",checked:s.includes(t.date),onChange:()=>{i(e=>e.includes(t.date)?e.filter(e=>e!==t.date):[...e,t.date])},className:(0,l.cn)("h-3.5 w-3.5 rounded","text-".concat(g,"-600 dark:text-").concat(g,"-400"),"border-gray-300 dark:border-gray-600")})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:o===t.date?(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(eS,{autoFocus:!0,value:c,onChange:e=>m(e.target.value),onKeyDown:e=>x(e,t.date),onBlur:y,className:(0,l.cn)("h-7 text-sm font-medium flex-1","bg-white dark:bg-gray-900",tl[g].input,tl[g].text),"aria-label":"Edit name for ".concat((0,E.GP)((0,C.qg)(t.date,"yyyy-MM-dd",new Date),"MMMM d, yyyy")),"data-edit-input":"true"}),(0,r.jsxs)("div",{className:"flex gap-1",role:"group","aria-label":"Edit actions",children:[(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(null),onKeyDown:e=>p(e,()=>d(null)),className:(0,l.cn)("h-7 w-7 p-0",tl[g].hover,"hover:bg-red-100/70 dark:hover:bg-red-900/30","group focus:ring-1 focus:ring-red-500 focus:ring-offset-1"),tabIndex:0,"aria-label":"Cancel edit","data-cancel-button":"true",children:(0,r.jsx)(e6.A,{className:(0,l.cn)("h-3.5 w-3.5",tl[g].accent,"group-hover:text-red-500 dark:group-hover:text-red-400")})}),(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:y,onKeyDown:e=>p(e,y),className:(0,l.cn)("h-7 w-7 p-0",tl[g].hover,"hover:bg-green-100/70 dark:hover:bg-green-900/30","group focus:ring-1 focus:ring-green-500 focus:ring-offset-1"),tabIndex:0,"aria-label":"Confirm edit","data-confirm-button":"true",children:(0,r.jsx)(e8.A,{className:(0,l.cn)("h-3.5 w-3.5",tl[g].accent,"group-hover:text-green-500 dark:group-hover:text-green-400")})})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[!a&&(0,r.jsx)("p",{className:(0,l.cn)("text-sm font-medium",tl[g].text),children:t.name}),!a&&(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(t.date,t.name),onKeyDown:e=>p(e,()=>h(t.date,t.name)),className:(0,l.cn)("h-6 w-6 p-0","opacity-0 group-hover/item:opacity-100 focus:opacity-100","transition-all duration-200",tl[g].hover,"hover:scale-110 active:scale-95","focus:ring-1 focus:ring-violet-500 focus:ring-offset-1"),"aria-label":"Edit name for ".concat(t.name),tabIndex:0,"data-edit-button":"true","data-date":t.date,children:(0,r.jsx)(te.A,{className:(0,l.cn)("h-3 w-3",tl[g].accent)})})]}),(0,r.jsx)("time",{dateTime:t.date,className:(0,l.cn)("block",a?"text-sm":"text-xs mt-0.5",a?tl[g].text:tl[g].muted),children:(0,E.GP)((0,C.qg)(t.date,"yyyy-MM-dd",new Date),"EEEE, MMMM d, yyyy")})]})}),(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>u(t.date),onKeyDown:e=>p(e,()=>u(t.date)),className:(0,l.cn)("h-7 w-7 p-0","opacity-0 group-hover/item:opacity-100 focus:opacity-100","transition-all duration-200","hover:scale-110 active:scale-95","hover:bg-violet-100/70 dark:hover:bg-violet-900/30","hover:text-violet-600 dark:hover:text-violet-400","group/button focus:ring-1 focus:ring-red-500 focus:ring-offset-1",o===t.date?"opacity-100":""),tabIndex:0,"aria-label":"Remove ".concat(t.name),"data-date-remove-button":"true","data-date":t.date,children:(0,r.jsx)(e6.A,{className:(0,l.cn)("h-3.5 w-3.5","transition-colors duration-200","text-violet-500/60 dark:text-violet-400/60","group-hover/button:text-violet-600 dark:group-hover/button:text-violet-400")})})]})})}function tv(){let{groupedDates:e,colorScheme:t,selectedDates:a,collapsedGroups:i,handleSelectGroup:o,toggleGroupCollapse:d}=ty(),c=(0,s.useRef)({});return(0,s.useEffect)(()=>{e.forEach(e=>{let{name:t,dates:r}=e,s=c.current[t];if(s){let e=r.every(e=>a.includes(e.date));s.indeterminate=r.some(e=>a.includes(e.date))&&!e}})},[e,a]),(0,r.jsx)(r.Fragment,{children:e.map(e=>{let{name:s,dates:m,isDefaultNamed:u}=e,g=i.includes(s),x=m.every(e=>a.includes(e.date)),h=m.some(e=>a.includes(e.date)),y=m.filter(e=>a.includes(e.date)).length,p="".concat(s.toLowerCase().replace(/\s+/g,"-"),"-group-id");return(0,r.jsxs)(n.P.li,{...td,className:tl[t].hover,"aria-labelledby":p,children:[(0,r.jsxs)(n.P.div,{className:(0,l.cn)("flex items-center gap-3 px-3 py-2","cursor-pointer select-none",tl[t].hover),onClick:()=>o(s),role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),o(s))},children:[(0,r.jsx)(n.P.input,{...tc,ref:e=>{c.current[s]=e},type:"checkbox",checked:x,onChange:()=>o(s),className:(0,l.cn)("h-3.5 w-3.5 rounded","text-".concat(t,"-600 dark:text-").concat(t,"-400"),"border-gray-300 dark:border-gray-600")}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{id:p,className:(0,l.cn)("text-sm font-medium",tl[t].text),children:u?"Dates in ".concat(s):s}),h&&(0,r.jsxs)("span",{className:(0,l.cn)("text-xs font-medium px-1.5 py-0.5 rounded-full",tl[t].highlight,tl[t].text),children:[y," selected"]})]}),(0,r.jsxs)("div",{className:(0,l.cn)("text-xs mt-0.5",tl[t].muted),children:[m.length," date",m.length>1?"s":""," • ",(0,E.GP)((0,C.qg)(m[0].date,"yyyy-MM-dd",new Date),"MMM d"),m.length>1&&" - ".concat((0,E.GP)((0,C.qg)(m[m.length-1].date,"yyyy-MM-dd",new Date),"MMM d"))]})]}),(0,r.jsx)(eb.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),d(s)},className:(0,l.cn)("h-6 w-6 p-0",tl[t].hover),"aria-label":g?"Expand group":"Collapse group",children:g?(0,r.jsx)(tm.A,{className:(0,l.cn)("h-3.5 w-3.5",tl[t].accent)}):(0,r.jsx)(tu.A,{className:(0,l.cn)("h-3.5 w-3.5",tl[t].accent)})})]}),(0,r.jsx)(e0.N,{initial:!1,children:!g&&(0,r.jsx)(n.P.div,{...td,children:m.map(e=>(0,r.jsx)(tf,{item:e,isGrouped:!u},e.date))})})]},s+(u?"-month":"-name"))})})}let tk=(0,s.createContext)({});function tj(e){let{title:t,colorScheme:a}=e,{companyDaysOff:s,addCompanyDay:n}=e_();return 0===s.length?null:(0,r.jsx)(th,{title:t,colorScheme:a,onBulkRename:(e,t)=>{e.forEach(e=>n(e,t))},children:(0,r.jsx)(tw,{})})}function tw(){let{title:e,colorScheme:t,editingDate:a}=ty(),s="".concat(e.toLowerCase().replace(/\s+/g,"-"),"-list-heading");return(0,r.jsx)(tk.Provider,{value:tl[t],children:(0,r.jsxs)(n.P.section,{...td,initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:(0,l.cn)("rounded-xl border p-4","shadow-sm hover:shadow-md","transition-all duration-300 ease-in-out",tl[t].container,tl[t].border),"aria-labelledby":s,children:[(0,r.jsx)(tp,{id:s}),"bulk"===a&&(0,r.jsx)(tb,{}),(0,r.jsx)("div",{className:(0,l.cn)("rounded-lg border",tl[t].border,"overflow-hidden"),children:(0,r.jsx)("ul",{className:(0,l.cn)("divide-y",tl[t].divider),role:"list","aria-label":"List of dates",children:(0,r.jsx)(e0.N,{initial:!1,mode:"popLayout",children:(0,r.jsx)(tv,{})})})})]})})}function tN(){let e="violet",{companyDaysOff:t,addCompanyDay:a,removeCompanyDay:s}=e_(),{state:n}=eC(),{selectedYear:i}=n,o=(0,r.jsx)(eR,{title:"Company Days Off",colorScheme:e,badge:{label:"Optional"},tooltip:{title:"Company Days Off",description:"These are non-working days your company provides that don't count against your PTO, such as company holidays or special days off. Adding these helps avoid scheduling PTO on days you already have free.",ariaLabel:"About company days off"}}),l=t.map(e=>(0,C.qg)(e.date,"yyyy-MM-dd",new Date));return(0,r.jsxs)(eM,{colorScheme:e,headingId:"company-days-heading",children:[(0,r.jsx)(eP,{number:4,title:o,description:"Add your company's special non-working days for ".concat(i," that don't count against your PTO."),colorScheme:e,id:"company-days-heading"}),(0,r.jsxs)("fieldset",{className:"space-y-6 border-0 m-0 p-0","aria-labelledby":"company-days-heading",children:[(0,r.jsx)("legend",{className:"sr-only",children:"Company days off selection"}),(0,r.jsx)(eQ,{id:"company-days-calendar",selectedDates:l,onDateSelect:e=>{let r=(0,E.GP)(e,"yyyy-MM-dd");t.some(e=>e.date===r)?s(r):a(r,(0,E.GP)(e,"MMMM d, yyyy"))},colorScheme:e,year:i}),(0,r.jsx)(tj,{title:"Selected Company Days",colorScheme:e})]})]})}let tD=e=>"".concat("companyDays","_").concat(e);function tO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date().getFullYear();try{let t=tD(e),a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(e){return[]}}function tE(e){return"".concat("holidays","_").concat(e)}function tC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date().getFullYear();try{let t=tE(e),a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(e){return[]}}let tS=s.forwardRef((e,t)=>{let{className:a,variant:s="neutral",...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg p-3 ring-1 shadow-sm",{primary:"bg-teal-50/30 dark:bg-gray-800/60 ring-teal-900/5 dark:ring-teal-300/10",secondary:"bg-violet-50/30 dark:bg-gray-800/60 ring-violet-900/5 dark:ring-violet-300/10",neutral:"bg-white/90 dark:bg-gray-800/60 ring-blue-900/5 dark:ring-blue-400/5"}[s],a),...n})});tS.displayName="Card";let tT=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5",a),...s})});tT.displayName="CardHeader";let tP=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("text-base font-semibold leading-none tracking-tight",a),...s})});tP.displayName="CardTitle";let tA=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-xs text-gray-600 dark:text-gray-300",a),...s})});tA.displayName="CardDescription";let tM=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("pt-2",a),...s})});tM.displayName="CardContent";let tI=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center mt-4",a),...s})});tI.displayName="CardFooter";var t_=a(2266);let tz="holiday-optimizer-onboarding-completed",tL=["intro","days-input","strategy-selection","holidays-selection","company-days","complete"],tB={isOnboardingVisible:!1,hasCompletedOnboarding:!1,currentStep:"intro",totalSteps:tL.length-2};function tY(e,t){switch(t.type){case"START_ONBOARDING":return{...e,isOnboardingVisible:!0,currentStep:"intro"};case"DISMISS_ONBOARDING":return window.umami&&window.umami.track("Onboarding dismissed"),{...e,isOnboardingVisible:!1,hasCompletedOnboarding:!0};case"GO_TO_NEXT_STEP":{let t=tL.indexOf(e.currentStep);if(t<tL.length-1){let a=tL[t+1];return window.umami&&window.umami.track("GO_TO_NEXT_STEP",{currentStep:t,nextStep:a}),{...e,currentStep:a}}return e}case"GO_TO_PREV_STEP":{let t=tL.indexOf(e.currentStep);if(t>0){let a=tL[t-1];return window.umami&&window.umami.track("GO_TO_NEXT_STEP",{currentStep:t,prevStep:a}),{...e,currentStep:a}}return e}case"SET_COMPLETED_STATUS":return{...e,hasCompletedOnboarding:t.isCompleted};default:return e}}let tR={...tB,startOnboarding:()=>void 0,dismissOnboarding:()=>void 0,goToNextStep:()=>void 0,goToPrevStep:()=>void 0,isCurrentStep:()=>!1},tH=(0,s.createContext)(tR);function tW(){let e=(0,s.useContext)(tH);if(!e)throw Error("useOnboarding must be used within an OnboardingProvider");return e}function tF(e){let{children:t}=e,[a,n]=(0,s.useReducer)(tY,tB);(0,s.useEffect)(()=>{let e="true"===localStorage.getItem(tz);n({type:"SET_COMPLETED_STATUS",isCompleted:e}),e||n({type:"START_ONBOARDING"})},[]);let i={...a,startOnboarding:()=>n({type:"START_ONBOARDING"}),dismissOnboarding:()=>{n({type:"DISMISS_ONBOARDING"}),localStorage.setItem(tz,"true")},goToNextStep:()=>n({type:"GO_TO_NEXT_STEP"}),goToPrevStep:()=>n({type:"GO_TO_PREV_STEP"}),isCurrentStep:e=>a.currentStep===e};return(0,r.jsx)(tH.Provider,{value:i,children:t})}let tG=e=>{let{step:t,primaryButtonRef:a}=e,{isOnboardingVisible:r,isCurrentStep:n,dismissOnboarding:i}=tW(),o=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(r&&n(t)&&o.current){o.current.focus();let e=setTimeout(()=>{(null==a?void 0:a.current)&&a.current.focus()},350),t=e=>{var t;if("Tab"!==e.key)return;let a=null===(t=o.current)||void 0===t?void 0:t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!(null==a?void 0:a.length))return;let r=a[0],s=a[a.length-1];e.shiftKey&&document.activeElement===r?(e.preventDefault(),s.focus()):e.shiftKey||document.activeElement!==s||(e.preventDefault(),r.focus())},r=e=>{"Escape"===e.key&&i()};return document.addEventListener("keydown",t),document.addEventListener("keydown",r),()=>{clearTimeout(e),document.removeEventListener("keydown",t),document.removeEventListener("keydown",r)}}},[r,n,t,a,i]),(0,s.useEffect)(()=>{if(r){let e=setTimeout(()=>{i()},5e3);return()=>clearTimeout(e)}},[r,i]),{overlayRef:o,shouldRender:r&&n(t)}};var tK=a(8182);function t$(e){let{children:t,isOpen:a,className:s,overlayRef:i,maxWidth:o="sm",labelledBy:d,describedBy:c}=e;if(!a)return null;let m=(0,r.jsx)(e0.N,{mode:"wait",children:(0,r.jsxs)("div",{className:"fixed inset-0 z-[9998] overflow-hidden flex flex-col",role:"dialog","aria-modal":"true",children:[(0,r.jsx)(n.P.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},"aria-hidden":"true"}),(0,r.jsx)(n.P.div,{ref:i,className:(0,l.cn)("relative z-10 flex flex-col bg-white dark:bg-gray-900 overflow-hidden h-full w-full","sm:h-auto sm:max-h-[90vh] sm:w-auto ".concat({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-2xl"}[o]," sm:m-auto sm:rounded-lg sm:shadow-xl"),s),initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,type:"spring",stiffness:200,damping:25},"aria-labelledby":d,"aria-describedby":c,tabIndex:-1,children:t})]})});return(0,tK.createPortal)(m,document.body)}let tq=e=>{let{children:t,className:a}=e;return(0,r.jsx)("footer",{className:(0,l.cn)("p-4 space-y-3","absolute bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700 sm:border-0","sm:static sm:p-6 sm:pt-3 sm:bg-transparent sm:dark:bg-transparent sm:backdrop-blur-none sm:border-t sm:border-gray-200 sm:dark:border-gray-700",a),children:t})},tV=e=>{let{icon:t,title:a,description:s}=e;return(0,r.jsxs)("article",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 sm:p-4 border border-gray-200 dark:border-gray-700 h-full",children:[(0,r.jsx)("div",{className:"mb-2","aria-hidden":"true",children:t}),(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1 text-sm sm:text-base",children:a}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:s})]})};function tU(e){let{step:t,className:a}=e,{goToNextStep:n,dismissOnboarding:i}=tW(),o=(0,s.useRef)(void 0),{overlayRef:d,shouldRender:c}=tG({step:t,primaryButtonRef:o});return c?(0,r.jsxs)(t$,{isOpen:c,className:a,overlayRef:d,maxWidth:"lg",labelledBy:"onboarding-title",describedBy:"onboarding-description",children:[(0,r.jsxs)("header",{className:(0,l.cn)("relative bg-sky-600 text-white","flex items-center p-4","sm:p-6"),children:[(0,r.jsxs)("button",{onClick:i,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors","aria-label":"Close onboarding",type:"button",children:[(0,r.jsx)(e6.A,{size:20}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pr-8",children:[(0,r.jsx)("div",{className:"bg-white/20 rounded-full p-2 sm:p-3 flex-shrink-0",children:(0,r.jsx)(p.A,{className:"h-5 w-5 sm:h-6 sm:w-6","aria-hidden":"true"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{id:"onboarding-title",className:"text-xl sm:text-2xl font-semibold line-clamp-1",children:"Welcome to Holiday Optimizer"}),(0,r.jsx)("p",{id:"onboarding-description",className:"text-sm sm:text-base text-white/90 line-clamp-2 mt-0.5",children:"Let's optimize your time off to get the most out of your PTO days."})]})]})]}),(0,r.jsx)("main",{className:(0,l.cn)("flex-1 overflow-y-auto p-4 sm:p-6","overscroll-y-contain"),children:(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6 pb-24 sm:pb-0",children:[(0,r.jsx)("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 dark:text-gray-100",children:"Maximize Your Days Off"}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300",children:"Holiday Optimizer helps you strategically plan your paid time off (PTO) days to create longer breaks by combining them with weekends and holidays."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mt-4",children:[(0,r.jsx)(tV,{icon:(0,r.jsx)(p.A,{className:"h-5 w-5 text-teal-600"}),title:"Input your days",description:"Tell us how many PTO days you have available to use."}),(0,r.jsx)(tV,{icon:(0,r.jsx)(T.A,{className:"h-5 w-5 text-indigo-600"}),title:"Choose a strategy",description:"Select how you want to optimize your time off."}),(0,r.jsx)(tV,{icon:(0,r.jsx)(t_.A,{className:"h-5 w-5 text-green-600"}),title:"Get your plan",description:"See the optimal schedule and maximize your breaks."})]})]})}),(0,r.jsx)(tq,{children:(0,r.jsxs)("div",{className:(0,l.cn)("flex gap-3","sm:flex sm:justify-between sm:w-full"),children:[(0,r.jsx)(eb.$,{variant:"outline",onClick:()=>i(),"aria-label":"Skip onboarding tour",type:"button",className:"flex-1 sm:flex-initial",children:"Skip tour"}),(0,r.jsxs)(eb.$,{ref:o,onClick:n,className:"flex-1 sm:flex-initial bg-sky-600 hover:bg-sky-700 text-white","aria-label":"Start onboarding tour",type:"button",children:["Start tour",(0,r.jsx)(eV.A,{className:"ml-2 h-4 w-4","aria-hidden":"true"})]})]})})]}):null}let tX={teal:{bg:"bg-teal-100 dark:bg-teal-950/70",border:"border-teal-300 dark:border-teal-700",text:"text-teal-900 dark:text-teal-50",title:"text-teal-800 dark:text-teal-200",button:"bg-teal-600 hover:bg-teal-700 text-white dark:bg-teal-500 dark:hover:bg-teal-600"},blue:{bg:"bg-blue-100 dark:bg-blue-950/70",border:"border-blue-300 dark:border-blue-700",text:"text-blue-900 dark:text-blue-50",title:"text-blue-800 dark:text-blue-200",button:"bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-500 dark:hover:bg-blue-600"},amber:{bg:"bg-amber-100 dark:bg-amber-950/70",border:"border-amber-300 dark:border-amber-700",text:"text-amber-900 dark:text-amber-50",title:"text-amber-800 dark:text-amber-200",button:"bg-amber-600 hover:bg-amber-700 text-white dark:bg-amber-500 dark:hover:bg-amber-600"},violet:{bg:"bg-violet-100 dark:bg-violet-950/70",border:"border-violet-300 dark:border-violet-700",text:"text-violet-900 dark:text-violet-50",title:"text-violet-800 dark:text-violet-200",button:"bg-violet-600 hover:bg-violet-700 text-white dark:bg-violet-500 dark:hover:bg-violet-600"}};function tJ(e){let{targetSelector:t,title:a,description:i,step:o,position:d="bottom",colorScheme:c="teal",showNextButton:m=!0,showPrevButton:u=!0,showSkipButton:g=!0,showCloseButton:x=!0,scrollOffset:h=120}=e,[y,p]=(0,s.useState)({top:0,left:0}),[b,f]=(0,s.useState)(!1),[v,k]=(0,s.useState)(!1),j=(0,s.useRef)(null),w=(0,s.useRef)(null),{isOnboardingVisible:N,isCurrentStep:D,goToNextStep:O,goToPrevStep:E,dismissOnboarding:C}=tW(),[S,T]=(0,s.useState)(!1),[P,A]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{T(!0);let e=()=>{let e=window.innerWidth;A(e<640),k(e<380)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(()=>{f(!1)},[o]),(0,s.useEffect)(()=>{if(N&&D(o)){let e=document.querySelector(t);e&&setTimeout(()=>{let t=e.getBoundingClientRect();if(!(t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth)){let e=window.scrollY+t.top;window.scrollTo({top:e-h,behavior:"smooth"})}},100)}},[N,D,o,t,h]),(0,s.useEffect)(()=>{let e=()=>{if(v){p({top:0,left:0}),f(!0);return}let e=document.querySelector(t);if(!e||!j.current)return;let a=e.getBoundingClientRect(),r=j.current.getBoundingClientRect(),s=window.innerWidth,n=window.innerHeight,i=0,o=0;switch(P?"bottom":d){case"top":i=a.top-r.height-10,o=a.left+a.width/2-r.width/2;break;case"right":i=a.top+a.height/2-r.height/2,o=a.right+10;break;case"bottom":i=a.bottom+10,o=a.left+a.width/2-r.width/2;break;case"left":i=a.top+a.height/2-r.height/2,o=a.left-r.width-10}P&&(s<350&&(o=(s-r.width)/2),i<60&&(i=Math.max(60,a.bottom+10))),(o=Math.max(10,o))+r.width>s-10&&(o=s-r.width-10),(i=Math.max(10,i))+r.height>n-10&&(i=P?Math.max(10,a.top-r.height-10):n-r.height-10),p({top:i,left:o}),f(!0)};if(N&&D(o)){let a=document.querySelector(t);a&&(a.classList.add("ring-2","ring-".concat(c,"-500"),"ring-offset-2","transition-all","duration-300"),setTimeout(e,50),window.addEventListener("resize",e),window.addEventListener("scroll",e))}return()=>{let a=document.querySelector(t);a&&a.classList.remove("ring-2","ring-".concat(c,"-500"),"ring-offset-2","transition-all","duration-300"),window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}},[N,D,o,t,d,c,P,v]),(0,s.useEffect)(()=>{if(N&&D(o)&&j.current&&b){j.current.focus();let e=setTimeout(()=>{w.current&&w.current.focus()},150),t=e=>{if("Tab"!==e.key||!j.current)return;let t=j.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!t.length)return;let a=t[0],r=t[t.length-1];e.shiftKey&&document.activeElement===a?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),a.focus())};return document.addEventListener("keydown",t),()=>{clearTimeout(e),document.removeEventListener("keydown",t)}}},[N,D,o,b]),(0,s.useEffect)(()=>{let e=e=>{if(N&&D(o))switch(e.key){case"Escape":C();break;case"ArrowRight":m&&(e.preventDefault(),O());break;case"ArrowLeft":u&&(e.preventDefault(),E())}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[N,D,o,O,E,C,m,u]),!N||!D(o)||!S)return null;let M="tooltip-".concat(o),I="tooltip-description-".concat(o);if(v)return(0,tK.createPortal)((0,r.jsx)(e0.N,{mode:"wait",children:(0,r.jsxs)("div",{className:"fixed inset-0 z-[9998] overflow-hidden flex flex-col",children:[(0,r.jsx)(n.P.div,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},"aria-hidden":"true",onClick:C}),(0,r.jsxs)(n.P.div,{ref:j,className:(0,l.cn)("fixed z-20 bottom-0 left-0 right-0 rounded-t-xl shadow-xl",tX[c].bg,tX[c].border,tX[c].text,"border-t border-l border-r"),initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},role:"dialog","aria-labelledby":M,"aria-describedby":I,tabIndex:-1,children:[(0,r.jsx)("div",{className:"w-full flex justify-center pt-2 pb-1",children:(0,r.jsx)("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"})}),(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h3",{id:M,className:(0,l.cn)("text-base font-medium",tX[c].title),children:a}),(0,r.jsx)("p",{id:I,className:"text-sm mt-1 leading-relaxed",children:i})]}),(0,r.jsxs)("footer",{className:"flex justify-between items-center pt-3 border-t border-gray-200 dark:border-gray-700 mt-3",children:[(0,r.jsxs)("div",{className:"space-x-2",children:[u&&(0,r.jsxs)(eb.$,{variant:"outline",size:"sm",onClick:E,tabIndex:0,className:"h-9 px-3 text-sm","aria-label":"Previous step",type:"button",children:[(0,r.jsx)(eq.A,{size:14,"aria-hidden":"true"}),(0,r.jsx)("span",{className:"sr-only sm:not-sr-only",children:"Prev"})]}),g&&(0,r.jsx)(eb.$,{variant:"ghost",size:"sm",onClick:C,tabIndex:0,className:"h-9 px-3 text-sm","aria-label":"Skip onboarding",type:"button",children:"Skip"})]}),m&&(0,r.jsxs)(eb.$,{ref:w,size:"sm",onClick:O,tabIndex:0,className:(0,l.cn)("h-9 px-4 min-w-[4rem] text-sm",tX[c].button),"aria-label":"Next step",type:"button",children:[(0,r.jsx)("span",{children:"Next"}),(0,r.jsx)(eV.A,{size:14,"aria-hidden":"true",className:"ml-1"})]})]})]})]})]})}),document.body);let _=(0,r.jsx)(e0.N,{mode:"wait",children:(0,r.jsx)(n.P.div,{ref:j,className:(0,l.cn)("fixed z-[9999] rounded-lg shadow-lg border p-4","w-[calc(100vw-2rem)] max-w-[20rem] sm:w-80",tX[c].bg,tX[c].border,tX[c].text,!b&&"opacity-0"),style:{top:y.top,left:y.left},initial:{opacity:0,scale:.9},animate:{opacity:+!!b,scale:b?1:.9,transition:{opacity:{duration:.2},scale:{type:"spring",stiffness:200,damping:25}}},exit:{opacity:0,scale:.9},role:"dialog","aria-labelledby":M,"aria-describedby":I,tabIndex:-1,children:(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[x&&(0,r.jsxs)("button",{onClick:C,className:"absolute top-2 right-2 p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Close onboarding tooltip",type:"button",children:[(0,r.jsx)(e6.A,{size:16}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,r.jsxs)("header",{children:[(0,r.jsx)("h3",{id:M,className:(0,l.cn)("text-base sm:text-lg font-medium",tX[c].title),children:a}),(0,r.jsx)("p",{id:I,className:"text-sm mt-1 leading-relaxed",children:i})]}),(0,r.jsxs)("footer",{className:(0,l.cn)("flex items-center mt-2 pt-2 border-t","border-".concat(c,"-200 dark:border-").concat(c,"-800"),u||g?"justify-between":"justify-end"),children:[(0,r.jsxs)("div",{className:"space-x-2 flex flex-wrap gap-2",children:[u&&(0,r.jsxs)(eb.$,{variant:"outline",size:"sm",onClick:E,tabIndex:0,className:"gap-1 h-9 px-3 py-2 text-sm","aria-label":"Previous step",type:"button",children:[(0,r.jsx)(eq.A,{size:14,"aria-hidden":"true"}),(0,r.jsx)("span",{children:"Prev"})]}),g&&(0,r.jsx)(eb.$,{variant:"ghost",size:"sm",onClick:C,tabIndex:0,className:"h-9 px-3 py-2 text-sm","aria-label":"Skip onboarding",type:"button",children:"Skip"})]}),m&&(0,r.jsxs)(eb.$,{ref:w,size:"sm",onClick:O,tabIndex:0,className:(0,l.cn)("gap-1 h-9 px-3 py-2 min-w-[5rem] text-sm",tX[c].button),"aria-label":"Next step",type:"button",children:[(0,r.jsx)("span",{children:"Next"}),(0,r.jsx)(eV.A,{size:14,"aria-hidden":"true"})]})]})]})})});return(0,tK.createPortal)(_,document.body)}let tZ=["intro","days-input","strategy-selection","holidays-selection","company-days","complete"];function tQ(e){let{className:t}=e,{currentStep:a,totalSteps:i,isOnboardingVisible:o}=tW(),[d,c]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{c(!0)},[]),!o||!d)return null;let m=tZ.indexOf(a),u="intro"===a||"complete"===a?100*("intro"!==a):(tZ.indexOf(a)-1)/i*100,g="intro"===a?0:"complete"===a?i:m-1,x=(0,r.jsxs)("div",{className:(0,l.cn)("fixed z-[9997] left-0 right-0 bottom-0 h-1 sm:h-1.5 bg-gray-200 dark:bg-gray-800",t),role:"progressbar","aria-label":"Onboarding progress: step ".concat(g," of ").concat(i),"aria-valuenow":Math.round(u),"aria-valuemin":0,"aria-valuemax":100,children:[(0,r.jsx)(n.P.div,{className:"h-full bg-gradient-to-r from-teal-500 to-blue-500",initial:{width:0},animate:{width:"".concat(u,"%")},transition:{duration:.3}}),"intro"!==a&&"complete"!==a&&(0,r.jsxs)("div",{className:"hidden sm:flex absolute top-0 right-4 -translate-y-full mb-2 text-xs font-medium bg-white dark:bg-gray-900 px-2 py-1 rounded-t-md border border-b-0 border-gray-200 dark:border-gray-700 shadow-sm pointer-events-none select-none",children:[(0,r.jsx)("span",{className:"text-teal-600 dark:text-teal-400",children:g}),(0,r.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["/",i]})]}),(0,r.jsx)("span",{className:"sr-only",children:"Step ".concat(g," of ").concat(i,": ").concat(a)})]});return(0,tK.createPortal)(x,document.body)}var t0=a(9021);let t1=e=>{let{text:t}=e;return(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,r.jsx)(t_.A,{className:"h-5 w-5 text-green-500","aria-hidden":"true"})}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:t})]})},t5=e=>{let{step:t,className:a}=e,{dismissOnboarding:n}=tW(),i=(0,s.useRef)(null),{overlayRef:o,shouldRender:d}=tG({step:t,primaryButtonRef:i});return d?(0,r.jsxs)(t$,{isOpen:d,className:a,overlayRef:o,maxWidth:"md",labelledBy:"onboarding-complete-title",describedBy:"onboarding-complete-description",children:[(0,r.jsxs)("header",{className:(0,l.cn)("relative bg-green-600 text-white","flex flex-col items-center justify-center p-4 pt-8 pb-6","sm:p-6 sm:pt-8 sm:pb-6"),children:[(0,r.jsxs)("button",{onClick:n,className:"absolute right-3 top-3 p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors","aria-label":"Close onboarding",type:"button",children:[(0,r.jsx)(e6.A,{size:20}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,r.jsx)("div",{className:"flex justify-center mb-3",children:(0,r.jsx)("div",{className:"bg-white/20 rounded-full p-3",children:(0,r.jsx)(t0.A,{className:"h-6 w-6","aria-hidden":"true"})})}),(0,r.jsx)("h2",{id:"onboarding-complete-title",className:"text-xl sm:text-2xl font-semibold text-center",children:"You're All Set!"})]}),(0,r.jsx)("main",{className:(0,l.cn)("flex-1 overflow-y-auto p-4 sm:p-6","overscroll-y-contain"),children:(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6 pb-24 sm:pb-0",children:[(0,r.jsx)("p",{id:"onboarding-complete-description",className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 text-center",children:"Now you're ready to create your optimized holiday schedule. Fill in the form and hit “Generate” to see your personalized plan."}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3 text-sm sm:text-base",children:"Follow these steps:"}),(0,r.jsxs)("ul",{className:"space-y-3","aria-label":"Completion checklist",children:[(0,r.jsx)(t1,{text:"Input your available PTO days"}),(0,r.jsx)(t1,{text:"Choose your optimization strategy"}),(0,r.jsx)(t1,{text:"Add any personal holidays"}),(0,r.jsx)(t1,{text:"Include company days off"}),(0,r.jsx)(t1,{text:"Generate your optimized schedule"})]})]})]})}),(0,r.jsx)(tq,{children:(0,r.jsx)(eb.$,{ref:i,onClick:()=>{n();let e=document.getElementById("days-input-container");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{let e=document.getElementById("days");e&&e.focus()},300))},className:"w-full bg-green-600 hover:bg-green-700 text-white h-11","aria-label":"Start using Holiday Optimizer",type:"button",children:"Get Started"})})]}):null},t2=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tU,{step:"intro"}),(0,r.jsx)(tJ,{step:"days-input",targetSelector:"#days-input-container",title:"Step 1: Input Your PTO Days",description:"Enter the number of PTO days you have available to use. The optimizer will strategically place these days to maximize your time off.",colorScheme:"teal",position:"right",showPrevButton:!1,scrollOffset:100}),(0,r.jsx)(tJ,{step:"strategy-selection",targetSelector:"#strategy-selection-container",title:"Step 2: Choose Your Strategy",description:"Select how you want to optimize your time off. Each strategy offers a different approach to using your PTO days.",colorScheme:"blue",position:"right",scrollOffset:120}),(0,r.jsx)(tJ,{step:"holidays-selection",targetSelector:"#holidays-container",title:"Step 3: Select Holidays",description:"Add any personal holidays or special dates you want to include in your optimization. The calendar lets you click on dates to add them.",colorScheme:"amber",position:"right",scrollOffset:130}),(0,r.jsx)(tJ,{step:"company-days",targetSelector:"#company-days-container",title:"Step 4: Add Company Days Off",description:"Include any company-provided days off that don't count against your PTO. This helps the optimizer avoid scheduling PTO on days you already have free.",colorScheme:"violet",position:"right",showNextButton:!0,scrollOffset:150}),(0,r.jsx)(t5,{step:"complete"}),(0,r.jsx)(tQ,{})]});var t3=a(4568);let t4=e=>{let{className:t,dataTestId:a}=e,{startOnboarding:s}=tW();return(0,r.jsxs)(o.m_,{children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsx)(eb.$,{variant:"ghost",size:"icon",type:"button",onClick:s,className:t,"aria-label":"Show onboarding guide","data-testid":a,children:(0,r.jsx)(t3.A,{className:"h-5 w-5 text-teal-600 dark:text-teal-400"})})}),(0,r.jsx)(o.ZI,{side:"bottom",className:"bg-white dark:bg-gray-900 font-medium",children:(0,r.jsx)("p",{children:"Show onboarding guide"})})]})},t9=Array.from({length:5},(e,t)=>new Date().getFullYear()+t);function t7(e){let{onSubmitAction:t,isLoading:a=!1}=e,{state:n}=eC(),{days:i,strategy:l,companyDaysOff:d,holidays:c,selectedYear:m}=n,{setSelectedYear:u}=function(){let{state:e,dispatch:t}=eC();return{selectedYear:e.selectedYear,setSelectedYear:e=>t({type:"SET_SELECTED_YEAR",payload:e})}}(),g=(0,s.useRef)(null);!function(){let{state:e,dispatch:t}=eC(),{clearHolidays:a}=eI(),{clearCompanyDays:r}=e_(),{selectedYear:n}=e;(0,s.useEffect)(()=>{a(),r();let e=tC(n);e.length>0&&e.forEach(e=>{t({type:"ADD_HOLIDAY",payload:e})});let s=tO(n);s.length>0&&s.forEach(e=>{t({type:"ADD_COMPANY_DAY",payload:e})})},[t,n,a,r]),(0,s.useEffect)(()=>{let t=tC(n);e.holidays.forEach(e=>{let a=t.find(t=>t.date===e.date);a&&a.name===e.name||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().getFullYear();try{let a=tE(t),r=tC(t),s=r.findIndex(t=>t.date===e.date);-1!==s?r[s]=e:r.push(e),localStorage.setItem(a,JSON.stringify(r))}catch(e){console.error("Failed to store holiday:",e)}}(e,n)}),t.forEach(t=>{e.holidays.some(e=>e.date===t.date)||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().getFullYear();try{let a=tE(t),r=tC(t).filter(t=>t.date!==e);localStorage.setItem(a,JSON.stringify(r))}catch(e){console.error("Failed to remove holiday:",e)}}(t.date,n)})},[e.holidays,n]),(0,s.useEffect)(()=>{let t=tO(n);e.companyDaysOff.forEach(e=>{let a=t.find(t=>t.date===e.date);a&&a.name===e.name||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().getFullYear();try{let a=tD(t),r=tO(t),s=r.findIndex(t=>t.date===e.date);-1!==s?r[s]=e:r.push(e),localStorage.setItem(a,JSON.stringify(r))}catch(e){console.error("Failed to store company day:",e)}}(e,n)}),t.forEach(t=>{e.companyDaysOff.some(e=>e.date===t.date)||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().getFullYear();try{let a=tD(t),r=tO(t).filter(t=>t.date!==e);localStorage.setItem(a,JSON.stringify(r))}catch(e){console.error("Failed to remove company day:",e)}}(t.date,n)})},[e.companyDaysOff,n])}();let x=e=>{u(parseInt(e))},h=i&&parseInt(i)>0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t2,{}),(0,r.jsx)(tS,{variant:"primary",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=parseInt(i);!(a<=0)&&(window.umami&&window.umami.track("Form Submitted!",{days:a,strategy:l,year:m,companyDaysCount:d.length,holidaysCount:c.length}),t({days:a,strategy:l,companyDaysOff:d,holidays:c,selectedYear:m}))},className:"space-y-4","aria-labelledby":"form-title",children:[(0,r.jsxs)(tT,{className:"pb-0",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(tP,{id:"form-title",className:"flex items-center gap-1.5 text-teal-900 dark:text-teal-100",children:[(0,r.jsx)(p.A,{className:"h-4 w-4 text-teal-600 dark:text-teal-300","aria-hidden":"true"}),N("planYourYear")]}),(0,r.jsx)(t4,{className:"md:hidden",dataTestId:"help-button-mobile"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center overflow-hidden rounded-md border border-teal-200 dark:border-teal-800 shadow-sm focus-within:ring-2 focus-within:ring-teal-500/70 dark:focus-within:ring-teal-400/70 focus-within:border-transparent",children:[(0,r.jsx)("div",{className:"flex h-9 items-center border-r border-teal-200 bg-white px-3 text-xs font-medium text-gray-500 dark:border-teal-800 dark:bg-teal-950/50 dark:text-gray-400",children:N("year")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{id:"year-select",value:m.toString(),onChange:e=>x(e.target.value),className:"h-9 border-none bg-white px-3 pr-7 text-sm font-medium text-gray-900 focus:outline-none focus:ring-0 dark:bg-teal-950 dark:text-gray-100 appearance-none cursor-pointer transition-all duration-150","aria-label":N("selectYear"),children:t9.map(e=>(0,r.jsx)("option",{value:e.toString(),className:"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-300",children:e},e))}),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2","aria-hidden":"true",children:(0,r.jsx)("svg",{className:"h-4 w-4 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,r.jsx)(t4,{className:"hidden md:inline-flex",dataTestId:"help-button-desktop"})]})]}),(0,r.jsx)(tA,{children:N("completeSteps")})]}),(0,r.jsx)(tM,{className:"space-y-3",children:(0,r.jsxs)(o.TooltipProvider,{children:[(0,r.jsx)("fieldset",{ref:g,className:"border-0 m-0 p-0",id:"days-input-container","data-onboarding-target":"days-input",children:(0,r.jsx)(eH,{})}),(0,r.jsx)("fieldset",{className:"border-0 m-0 p-0",id:"strategy-selection-container","data-onboarding-target":"strategy-selection",children:(0,r.jsx)(eK,{})}),(0,r.jsx)("fieldset",{className:"border-0 m-0 p-0",id:"holidays-container","data-onboarding-target":"holidays-selection",children:(0,r.jsx)(to,{})}),(0,r.jsx)("fieldset",{className:"border-0 m-0 p-0",id:"company-days-container","data-onboarding-target":"company-days",children:(0,r.jsx)(tN,{})})]})}),(0,r.jsx)(tI,{className:"flex justify-end",children:(0,r.jsx)(eb.$,{type:"submit",variant:"primary-action",disabled:a||!h,"aria-busy":a,tabIndex:0,children:a?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{children:N("optimizingSchedule")})]}):(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(T.A,{className:"h-4 w-4","aria-hidden":"true"}),(0,r.jsx)("span",{children:N("generate")})]})})})]})})]})}let t6=e=>{let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(r)},t8=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+t),ae=e=>e.isWeekend||e.isPublicHoliday||e.isCompanyDayOff,at=e=>{switch(e){case"longWeekends":return 7;case"miniBreaks":return 14;case"weekLongBreaks":case"balanced":default:return 21;case"extendedVacations":return 30}},aa=e=>{let t,a;switch(e){case"longWeekends":t=3,a=4;break;case"miniBreaks":t=5,a=6;break;case"weekLongBreaks":t=7,a=9;break;case"extendedVacations":t=10,a=15;break;default:t=3,a=15}return{minBreak:t,maxBreak:a}},ar=e=>{let t=e.year||new Date().getFullYear(),a=new Date,r=t===a.getFullYear()?new Date(a.getFullYear(),a.getMonth(),a.getDate()):new Date(t,0,1),s=new Date(t,11,31),n=[];for(let t=new Date(r);t<=s;t=t8(t,1)){let a,r;let s=t6(t),i=t.getDay(),o=0===i||6===i,l=!1;if(e.holidays){for(let t of e.holidays)if(t.date===s){l=!0,a=t.name;break}}let d=!1;if(e.companyDaysOff){for(let a of e.companyDaysOff)if(a.isRecurring&&a.startDate&&a.endDate&&void 0!==a.weekday){let e=new Date(a.startDate),s=new Date(a.endDate);if(t>=e&&t<=s&&t.getDay()===a.weekday){d=!0,r=a.name;break}}else if(a.date===s){d=!0,r=a.name;break}}let c={date:t6(t),isWeekend:o,isPublicHoliday:l,publicHolidayName:a,isCompanyDayOff:d,companyDayName:r,isPTO:!1,isPartOfBreak:!1};n.push(c)}return n},as=(e,t,a)=>{let r=[],s=e.length;for(let n=0;n<s;n++)for(let i=t;i<=a&&!(n+i-1>=s);i++){let t=[],a=0;for(let r=n;r<n+i;r++){let s=e[r];!ae(s)&&a++,t.push(s)}a>0&&r.push({startIdx:n,endIdx:n+i-1,totalDays:i,ptoUsed:a,efficiency:i/a,startDate:e[n].date,endDate:e[n+i-1].date,segmentDays:[...t]})}return r},an=(e,t)=>{let a=e.filter(e=>e.ptoUsed<=t),r=new Map;for(let e of a){let t=r.get(e.startIdx)||[];t.push(e),r.set(e.startIdx,t)}let s=[];for(let e of r.values()){let t=[];for(let a of e){let r=!1;for(let t of e)if(t!==a&&t.endIdx>=a.endIdx&&t.ptoUsed<=a.ptoUsed&&t.totalDays>=a.totalDays){r=!0;break}r||t.push(a)}s.push(...t)}return s.sort((e,t)=>e.startIdx-t.startIdx),s},ai=(e,t,a)=>{let r=a,s=e.length;for(;r<s;){let a=Math.floor((r+s)/2);e[a].startIdx<t?r=a+1:s=a}return r},ao=(e,t,a)=>{let r=new Map,s=(n,i,o)=>{if(n>=e.length)return{totalDaysOff:0,segments:[],totalPTOUsed:0};let l="".concat(n,"-").concat(i,"-").concat(o);if(r.has(l))return r.get(l);let d=i+a,c=ai(e,d,n),m={totalDaysOff:0,segments:[],totalPTOUsed:0};for(let a=c;a<e.length;a++){let r=e[a];if(r.startIdx<d||o+r.ptoUsed>t)continue;let n=s(a+1,r.endIdx,o+r.ptoUsed),i=r.totalDays+n.totalDaysOff;i>m.totalDaysOff&&(m={totalDaysOff:i,segments:[r,...n.segments],totalPTOUsed:r.ptoUsed+n.totalPTOUsed})}return r.set(l,m),m};return s(0,-1,0)},al=(e,t,a)=>{let r=e.length;for(let s of t){let t=e.findIndex(e=>e.date===s.endDate);for(;a>0&&t<r-1;){let r=e[t+1];if(r.isPartOfBreak||ae(r))break;r.isPTO=!0,r.isPartOfBreak=!0,s.days.push(r),s.totalDays++,s.ptoDays++,a--,t++,s.endDate=r.date}}return a},ad=(e,t)=>{let a=[],r=e.length,s=0;for(;s<r&&t>0;)if(e[s].isPartOfBreak||ae(e[s]))s++;else{let n=[];for(;s<r&&!e[s].isPartOfBreak&&t>0;)!ae(e[s])&&(e[s].isPTO=!0,e[s].isPartOfBreak=!0,n.push(e[s]),t--),s++;n.length>0&&a.push({startDate:n[0].date,endDate:n[n.length-1].date,days:n,totalDays:n.length,ptoDays:n.length,publicHolidays:n.filter(e=>e.isPublicHoliday).length,weekends:n.filter(e=>e.isWeekend).length,companyDaysOff:n.filter(e=>e.isCompanyDayOff).length})}return a},ac=e=>{let{minBreak:t,maxBreak:a}=aa(e.strategy),r=e.numberOfDays,s=at(e.strategy),n=ar(e),i=[];"balanced"===e.strategy?(i.push(...as(n,3,4)),i.push(...as(n,5,6)),i.push(...as(n,7,9)),i.push(...as(n,10,15))):i=as(n,t,a),i.sort((e,t)=>e.startIdx-t.startIdx);let o=ao(i=an(i,r),r,s),l=[];for(let e of o.segments){for(let t=e.startIdx;t<=e.endIdx;t++)n[t].isPartOfBreak=!0,ae(n[t])||(n[t].isPTO=!0);l.push({startDate:e.startDate,endDate:e.endDate,days:e.segmentDays.slice(),totalDays:e.totalDays,ptoDays:e.ptoUsed,publicHolidays:e.segmentDays.filter(e=>e.isPublicHoliday).length,weekends:e.segmentDays.filter(e=>e.isWeekend).length,companyDaysOff:e.segmentDays.filter(e=>e.isCompanyDayOff).length})}let d=l.reduce((e,t)=>e+t.ptoDays,0),c=r-d,m=c+1;for(;c>0&&c<m;)m=c,c=al(n,l,c),ad(n,c).forEach(e=>l.push(e)),c=r-(d=l.reduce((e,t)=>e+t.ptoDays,0));let u={totalPTODays:l.reduce((e,t)=>e+t.ptoDays,0),totalPublicHolidays:l.reduce((e,t)=>e+t.publicHolidays,0),totalNormalWeekends:l.reduce((e,t)=>e+t.weekends,0),totalCompanyDaysOff:l.reduce((e,t)=>e+t.companyDaysOff,0),totalDaysOff:l.reduce((e,t)=>e+t.totalDays,0),totalExtendedWeekends:l.reduce((e,t)=>e+t.ptoDays,0)};return{days:n,breaks:l,stats:u}},am=e=>new Promise(t=>{setTimeout(()=>{t(ac(e))},0)}),au=e=>{let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex-grow",a),children:t})},ag=e=>{let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("bg-gray-50/90 dark:bg-gray-900 border-b border-gray-200/60 dark:border-gray-700/30 py-6",a),children:(0,r.jsx)("div",{className:l.iH,children:(0,r.jsx)("div",{className:"text-center",children:t})})})},ax=e=>{let{children:t,className:a}=e;return(0,r.jsx)("h1",{className:(0,l.cn)("text-2xl font-semibold tracking-tight text-gray-900 dark:text-gray-100",a),children:t})},ah=e=>{let{children:t,className:a}=e;return(0,r.jsx)("p",{className:(0,l.cn)("mt-2 text-sm text-gray-600 dark:text-gray-400",a),children:t})},ay=e=>{let{children:t,className:a,fullWidth:s=!1}=e;return(0,r.jsx)("div",{className:(0,l.cn)("w-full py-6",a),children:(0,r.jsx)("div",{className:(0,l.cn)(s?l.iH:"max-w-[1400px] mx-auto px-3 sm:px-4 lg:px-8 xl:px-12"),children:t})})},ap=e=>{let{size:t="md",variant:a="primary",className:s,label:n,description:i}=e;return(0,r.jsxs)("div",{className:(0,l.cn)("flex flex-col items-center justify-center space-y-4",s),children:[(0,r.jsx)("div",{className:(0,l.cn)("animate-spin rounded-full",{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"}[t],{primary:"border-violet-200 dark:border-violet-700 border-t-violet-500 dark:border-t-violet-400",secondary:"border-blue-200 dark:border-blue-700 border-t-blue-500 dark:border-t-blue-400",neutral:"border-gray-200 dark:border-gray-700 border-t-gray-500 dark:border-t-gray-400"}[a]),"aria-hidden":"true"}),(n||i)&&(0,r.jsxs)("div",{className:"text-center space-y-1",children:[n&&(0,r.jsx)("p",{className:(0,l.cn)("font-medium",{"text-xs":"sm"===t,"text-sm":"md"===t,"text-base":"lg"===t},{"text-violet-900 dark:text-violet-100":"primary"===a,"text-blue-900 dark:text-blue-100":"secondary"===a,"text-gray-900 dark:text-gray-100":"neutral"===a}),children:n}),i&&(0,r.jsx)("p",{className:(0,l.cn)({"text-xs":"sm"===t||"md"===t,"text-sm":"lg"===t},{"text-violet-600/70 dark:text-violet-300/70":"primary"===a,"text-blue-600/70 dark:text-blue-300/70":"secondary"===a,"text-gray-600/70 dark:text-gray-300/70":"neutral"===a}),children:i})]})]})},ab=(0,a(5048).default)(()=>a.e(853).then(a.bind(a,1853)),{loadableGenerated:{webpack:()=>[1853]},ssr:!1}),af=()=>{let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(new Date().getFullYear()),m=(0,s.useRef)(null),u=async e=>{if(null!==e.numberOfDays)try{t(!0),c(e.selectedYear);let a=await am({numberOfDays:e.numberOfDays,strategy:e.strategy,year:e.selectedYear,companyDaysOff:e.companyDaysOff,holidays:e.holidays});o({days:a.days,breaks:a.breaks,stats:a.stats}),n(!0)}catch(e){console.error("Optimization error:",e),o(null)}finally{t(!1)}};return(0,s.useEffect)(()=>{a&&m.current&&window.innerWidth<1024&&(m.current.scrollIntoView({behavior:"smooth",block:"start"}),n(!1))},[a,i]),(0,r.jsx)(eE,{children:(0,r.jsx)(tF,{children:(0,r.jsxs)(au,{children:[(0,r.jsxs)(ag,{children:[(0,r.jsx)(ax,{children:N("pageTitle")}),(0,r.jsx)(ah,{children:D("pageDescription",{year:d.toString()})})]}),(0,r.jsx)(ay,{children:(0,r.jsxs)("section",{className:(0,l.cn)("grid gap-6 mx-auto max-w-[1400px]",e||i?"lg:grid-cols-[minmax(480px,1fr),minmax(480px,2fr)]":""),"aria-label":N("optimizationForm"),children:[(0,r.jsxs)("div",{className:(0,l.cn)("space-y-4",e||i?"lg:sticky lg:top-6 lg:self-start max-w-2xl":"max-w-xl mx-auto w-full"),children:[(0,r.jsx)("h2",{className:"sr-only",children:N("optimizationForm")}),(0,r.jsx)(t7,{onSubmitAction:e=>{let{days:t,strategy:a,companyDaysOff:r,holidays:s,selectedYear:n}=e;u({numberOfDays:t,strategy:a,companyDaysOff:r,holidays:s,selectedYear:n})},isLoading:e})]}),(e||i&&i.days.length>0)&&(0,r.jsxs)("div",{className:"space-y-4 min-w-0 max-w-4xl w-full",children:[(0,r.jsx)("h2",{className:"sr-only",children:N("optimizationResults")}),e?(0,r.jsx)(tS,{variant:"neutral",className:"p-8 flex flex-col items-center justify-center min-h-[300px]",children:(0,r.jsx)(ap,{variant:"primary",label:N("creatingSchedule"),description:D("findingBestWay",{year:d.toString()})})}):i&&(0,r.jsxs)("div",{itemScope:!0,itemType:"https://schema.org/Event",children:[(0,r.jsx)("meta",{itemProp:"name",content:"".concat(N("pageTitle")," ").concat(d)}),(0,r.jsx)(ej,{ref:m,optimizedDays:i.days,breaks:i.breaks,stats:i.stats,selectedYear:d}),(0,r.jsx)("div",{className:"mt-6 flex justify-center",children:(0,r.jsx)(ab,{})})]})]})]})})]})})})}},8533:(e,t,a)=>{Promise.resolve().then(a.bind(a,8226))}},e=>{var t=t=>e(e.s=t);e.O(0,[512,693,654,470,640,358],()=>t(8533)),_N_E=e.O()}]);